//<![CDATA[
(function(e,t,n){function r(n,r,i){var s=t.createElement(n);if(r){s.id=b+r}if(i){s.style.cssText=i}return e(s)}function i(){return n.innerHeight?n.innerHeight:e(n).height()}function s(e){var t=H.length,n=(et+e)%t;return n<0?t+n:n}function o(e,t){return Math.round((/%/.test(e)?(t==="x"?B.width():i())/100:1)*parseInt(e,10))}function u(e,t){return e.photo||e.photoRegex.test(t)}function a(e,t){return e.retinaUrl&&n.devicePixelRatio>1?t.replace(e.photoRegex,e.retinaSuffix):t}function f(e){if("contains"in L[0]&&!L[0].contains(e.target)){e.stopPropagation();L.focus()}}function l(){var t,n=e.data(Z,y);if(n==null){J=e.extend({},g);if(console&&console.log){console.log("Error: cboxElement missing settings object")}}else{J=e.extend({},n)}for(t in J){if(e.isFunction(J[t])&&t.slice(0,2)!=="on"){J[t]=J[t].call(Z)}}J.rel=J.rel||Z.rel||e(Z).data("rel")||"nofollow";J.href=J.href||e(Z).attr("href");J.title=J.title||Z.title;if(typeof J.href==="string"){J.href=e.trim(J.href)}}function c(n,r){e(t).trigger(n);$.trigger(n);if(e.isFunction(r)){r.call(Z)}}function h(){var e,t=b+"Slideshow_",n="click."+b,r,i,s,o;if(J.slideshow&&H[1]){r=function(){clearTimeout(e)};i=function(){if(J.loop||H[et+1]){e=setTimeout(ot.next,J.slideshowSpeed)}};s=function(){U.html(J.slideshowStop).unbind(n).one(n,o);$.bind(x,i).bind(S,r).bind(T,o);L.removeClass(t+"off").addClass(t+"on")};o=function(){r();$.unbind(x,i).unbind(S,r).unbind(T,o);U.html(J.slideshowStart).unbind(n).one(n,function(){ot.next();s()});L.removeClass(t+"on").addClass(t+"off")};if(J.slideshowAuto){s()}else{o()}}else{L.removeClass(t+"off "+t+"on")}}function p(n){if(!it){Z=n;l();H=e(Z);et=0;if(J.rel!=="nofollow"){H=e("."+w).filter(function(){var t=e.data(this,y),n;if(t){n=e(this).data("rel")||t.rel||this.rel}return n===J.rel});et=H.index(Z);if(et===-1){H=H.add(Z);et=H.length-1}}k.css({opacity:parseFloat(J.opacity),cursor:J.overlayClose?"pointer":"auto",visibility:"visible"}).show();if(at){L.add(k).removeClass(at)}if(J.className){L.add(k).addClass(J.className)}at=J.className;X.html(J.close).show();if(!nt){nt=rt=true;L.css({visibility:"hidden",display:"block"});j=r(ut,"LoadedContent","width:0; height:0; overflow:hidden").appendTo(O);K=M.height()+P.height()+O.outerHeight(true)-O.height();Q=_.width()+D.width()+O.outerWidth(true)-O.width();G=j.outerHeight(true);Y=j.outerWidth(true);J.w=o(J.initialWidth,"x");J.h=o(J.initialHeight,"y");ot.position();h();c(E,J.onOpen);V.add(q).hide();L.focus();if(J.trapFocus){if(t.addEventListener){t.addEventListener("focus",f,true);$.one(N,function(){t.removeEventListener("focus",f,true)})}}if(J.returnFocus){$.one(N,function(){e(Z).focus()})}}m()}}function d(){if(!L&&t.body){lt=false;B=e(n);L=r(ut).attr({id:y,"class":e.support.opacity===false?b+"IE":"",role:"dialog",tabindex:"-1"}).hide();k=r(ut,"Overlay").hide();I=e([r(ut,"LoadingOverlay")[0],r(ut,"LoadingGraphic")[0]]);A=r(ut,"Wrapper");O=r(ut,"Content").append(q=r(ut,"Title"),R=r(ut,"Current"),W=e('<button type="button"/>').attr({id:b+"Previous"}),z=e('<button type="button"/>').attr({id:b+"Next"}),U=r("button","Slideshow"),I,X=e('<button type="button"/>').attr({id:b+"Close"}));A.append(r(ut).append(r(ut,"TopLeft"),M=r(ut,"TopCenter"),r(ut,"TopRight")),r(ut,false,"clear:left").append(_=r(ut,"MiddleLeft"),O,D=r(ut,"MiddleRight")),r(ut,false,"clear:left").append(r(ut,"BottomLeft"),P=r(ut,"BottomCenter"),r(ut,"BottomRight"))).find("div div").css({"float":"left"});F=r(ut,false,"position:absolute; width:9999px; visibility:hidden; display:none");V=z.add(W).add(R).add(U);e(t.body).append(k,L.append(A,F))}}function v(){function n(e){if(!(e.which>1||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey)){e.preventDefault();p(this)}}if(L){if(!lt){lt=true;z.click(function(){ot.next()});W.click(function(){ot.prev()});X.click(function(){ot.close()});k.click(function(){if(J.overlayClose){ot.close()}});e(t).bind("keydown."+b,function(e){var t=e.keyCode;if(nt&&J.escKey&&t===27){e.preventDefault();ot.close()}if(nt&&J.arrowKey&&H[1]&&!e.altKey){if(t===37){e.preventDefault();W.click()}else if(t===39){e.preventDefault();z.click()}}});if(e.isFunction(e.fn.on)){e(t).on("click."+b,"."+w,n)}else{e("."+w).live("click."+b,n)}}return true}return false}function m(){var i,s,f=ot.prep,h,p=++ft;rt=true;tt=false;Z=H[et];l();c(C);c(S,J.onLoad);J.h=J.height?o(J.height,"y")-G-K:J.innerHeight&&o(J.innerHeight,"y");J.w=J.width?o(J.width,"x")-Y-Q:J.innerWidth&&o(J.innerWidth,"x");J.mw=J.w;J.mh=J.h;if(J.maxWidth){J.mw=o(J.maxWidth,"x")-Y-Q;J.mw=J.w&&J.w<J.mw?J.w:J.mw}if(J.maxHeight){J.mh=o(J.maxHeight,"y")-G-K;J.mh=J.h&&J.h<J.mh?J.h:J.mh}i=J.href;st=setTimeout(function(){I.show()},100);if(J.inline){h=r(ut).hide().insertBefore(e(i)[0]);$.one(C,function(){h.replaceWith(j.children())});f(e(i))}else if(J.iframe){f(" ")}else if(J.html){f(J.html)}else if(u(J,i)){i=a(J,i);tt=t.createElement("img");e(tt).addClass(b+"Photo").bind("error",function(){J.title=false;f(r(ut,"Error").html(J.imgError))}).one("load",function(){var t;if(p!==ft){return}tt.alt=e(Z).attr("alt")||e(Z).attr("data-alt")||"";if(J.retinaImage&&n.devicePixelRatio>1){tt.height=tt.height/n.devicePixelRatio;tt.width=tt.width/n.devicePixelRatio}if(J.scalePhotos){s=function(){tt.height-=tt.height*t;tt.width-=tt.width*t};if(J.mw&&tt.width>J.mw){t=(tt.width-J.mw)/tt.width;s()}if(J.mh&&tt.height>J.mh){t=(tt.height-J.mh)/tt.height;s()}}if(J.h){tt.style.marginTop=Math.max(J.mh-tt.height,0)/2+"px"}if(H[1]&&(J.loop||H[et+1])){tt.style.cursor="pointer";tt.onclick=function(){ot.next()}}tt.style.width=tt.width+"px";tt.style.height=tt.height+"px";setTimeout(function(){f(tt)},1)});setTimeout(function(){tt.src=i},1)}else if(i){F.load(i,J.data,function(t,n){if(p===ft){f(n==="error"?r(ut,"Error").html(J.xhrError):e(this).contents())}})}}var g={transition:"elastic",speed:300,fadeOut:300,width:false,initialWidth:"600",innerWidth:false,maxWidth:false,height:false,initialHeight:"450",innerHeight:false,maxHeight:false,scalePhotos:true,scrolling:true,inline:false,html:false,iframe:false,fastIframe:true,photo:false,href:false,title:false,rel:false,opacity:.9,preloading:true,className:false,retinaImage:false,retinaUrl:false,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",open:false,returnFocus:true,trapFocus:true,reposition:true,loop:true,slideshow:false,slideshowAuto:true,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp)((#|\?).*)?$/i,onOpen:false,onLoad:false,onComplete:false,onCleanup:false,onClosed:false,overlayClose:true,escKey:true,arrowKey:true,top:false,bottom:false,left:false,right:false,fixed:false,data:undefined},y="colorbox",b="cbox",w=b+"Element",E=b+"_open",S=b+"_load",x=b+"_complete",T=b+"_cleanup",N=b+"_closed",C=b+"_purge",k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$=e("<a/>"),J,K,Q,G,Y,Z,et,tt,nt,rt,it,st,ot,ut="div",at,ft=0,lt;if(e.colorbox){return}e(d);ot=e.fn[y]=e[y]=function(t,n){var r=this;t=t||{};d();if(v()){if(e.isFunction(r)){r=e("<a/>");t.open=true}else if(!r[0]){return r}if(n){t.onComplete=n}r.each(function(){e.data(this,y,e.extend({},e.data(this,y)||g,t))}).addClass(w);if(e.isFunction(t.open)&&t.open.call(r)||t.open){p(r[0])}}return r};ot.position=function(e,t){function n(e){M[0].style.width=P[0].style.width=O[0].style.width=parseInt(e.style.width,10)-Q+"px";O[0].style.height=_[0].style.height=D[0].style.height=parseInt(e.style.height,10)-K+"px"}var r,s=0,u=0,a=L.offset(),f,l;B.unbind("resize."+b);L.css({top:-9e4,left:-9e4});f=B.scrollTop();l=B.scrollLeft();if(J.fixed){a.top-=f;a.left-=l;L.css({position:"fixed"})}else{s=f;u=l;L.css({position:"absolute"})}if(J.right!==false){u+=Math.max(B.width()-J.w-Y-Q-o(J.right,"x"),0)}else if(J.left!==false){u+=o(J.left,"x")}else{u+=Math.round(Math.max(B.width()-J.w-Y-Q,0)/2)}if(J.bottom!==false){s+=Math.max(i()-J.h-G-K-o(J.bottom,"y"),0)}else if(J.top!==false){s+=o(J.top,"y")}else{s+=Math.round(Math.max(i()-J.h-G-K,0)/2)}L.css({top:a.top,left:a.left,visibility:"visible"});e=L.width()===J.w+Y&&L.height()===J.h+G?0:e||0;A[0].style.width=A[0].style.height="9999px";r={width:J.w+Y+Q,height:J.h+G+K,top:s,left:u};if(e===0){L.css(r)}L.dequeue().animate(r,{duration:e,complete:function(){n(this);rt=false;A[0].style.width=J.w+Y+Q+"px";A[0].style.height=J.h+G+K+"px";if(J.reposition){setTimeout(function(){B.bind("resize."+b,ot.position)},1)}if(t){t()}},step:function(){n(this)}})};ot.resize=function(e){var t;if(nt){e=e||{};if(e.width){J.w=o(e.width,"x")-Y-Q}if(e.innerWidth){J.w=o(e.innerWidth,"x")}j.css({width:J.w});if(e.height){J.h=o(e.height,"y")-G-K}if(e.innerHeight){J.h=o(e.innerHeight,"y")}if(!e.innerHeight&&!e.height){t=j.scrollTop();j.css({height:"auto"});J.h=j.height()}j.css({height:J.h});if(t){j.scrollTop(t)}ot.position(J.transition==="none"?0:J.speed)}};ot.prep=function(n){function i(){J.w=J.w||j.width();J.w=J.mw&&J.mw<J.w?J.mw:J.w;return J.w}function o(){J.h=J.h||j.height();J.h=J.mh&&J.mh<J.h?J.mh:J.h;return J.h}if(!nt){return}var f,l=J.transition==="none"?0:J.speed;j.empty().remove();j=r(ut,"LoadedContent").append(n);j.hide().appendTo(F.show()).css({width:i(),overflow:J.scrolling?"auto":"hidden"}).css({height:o()}).prependTo(O);F.hide();e(tt).css({"float":"none"});f=function(){function n(){if(e.support.opacity===false){L[0].style.removeAttribute("filter")}}var i=H.length,o,f="frameBorder",h="allowTransparency",p;if(!nt){return}p=function(){clearTimeout(st);I.hide();c(x,J.onComplete)};q.html(J.title).add(j).show();if(i>1){if(typeof J.current==="string"){R.html(J.current.replace("{current}",et+1).replace("{total}",i)).show()}z[J.loop||et<i-1?"show":"hide"]().html(J.next);W[J.loop||et?"show":"hide"]().html(J.previous);if(J.slideshow){U.show()}if(J.preloading){e.each([s(-1),s(1)],function(){var n,r,i=H[this],s=e.data(i,y);if(s&&s.href){n=s.href;if(e.isFunction(n)){n=n.call(i)}}else{n=e(i).attr("href")}if(n&&u(s,n)){n=a(s,n);r=t.createElement("img");r.src=n}})}}else{V.hide()}if(J.iframe){o=r("iframe")[0];if(f in o){o[f]=0}if(h in o){o[h]="true"}if(!J.scrolling){o.scrolling="no"}e(o).attr({src:J.href,name:(new Date).getTime(),"class":b+"Iframe",allowFullScreen:true,webkitAllowFullScreen:true,mozallowfullscreen:true}).one("load",p).appendTo(j);$.one(C,function(){o.src="//about:blank"});if(J.fastIframe){e(o).trigger("load")}}else{p()}if(J.transition==="fade"){L.fadeTo(l,1,n)}else{n()}};if(J.transition==="fade"){L.fadeTo(l,0,function(){ot.position(0,f)})}else{ot.position(l,f)}};ot.next=function(){if(!rt&&H[1]&&(J.loop||H[et+1])){et=s(1);p(H[et])}};ot.prev=function(){if(!rt&&H[1]&&(J.loop||et)){et=s(-1);p(H[et])}};ot.close=function(){if(nt&&!it){it=true;nt=false;c(T,J.onCleanup);B.unbind("."+b);k.fadeTo(J.fadeOut||0,0);L.stop().fadeTo(J.fadeOut||0,0,function(){L.add(k).css({opacity:1,cursor:"auto"}).hide();c(C);j.empty().remove();setTimeout(function(){it=false;c(N,J.onClosed)},1)})}};ot.remove=function(){if(!L){return}L.stop();e.colorbox.close();L.stop().remove();k.remove();it=false;L=null;e("."+w).removeData(y).removeClass(w);e(t).unbind("click."+b)};ot.element=function(){return e(Z)};ot.settings=g})(jQuery,document,window);(function(e){e.RecentPostbyTag=function(t,n){var r=this;r.$el=e(t);r.init=function(){r.options=e.extend({},e.RecentPostbyTag.defaultOptions,n);r.$el.html('<div class="itemstag '+r.options.postType+'"><ul class="recentpost"></ul></div>').addClass(r.options.loadingClass);e.get((r.options.blogURL===""?window.location.protocol+"//"+window.location.host:r.options.blogURL)+"/feeds/posts/default"+(r.options.tagName===false?"":"/-/"+r.options.tagName)+"?max-results="+r.options.MaxPost+"&orderby=published&alt=json-in-script",function(n){var i,s,o,u,a,f,l,c,h,p,d,v,m,g="",y=n.feed.entry;if(y!==undefined){for(var b=0,w=y.length;b<w;b++){for(var E=0,S=y[b].link.length;E<S;E++){if(y[b].link[E].rel=="alternate"){i=y[b].link[E].href;break}}for(var x=0,T=y[b].link.length;x<T;x++){if(y[b].link[x].rel=="replies"&&y[b].link[x].type=="text/html"){a=y[b].link[x].title.split(" ")[0];break}}o="content"in y[b]?y[b].content.$t:"summary"in y[b]?y[b].summary.$t:"";var N=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;f=e("<div></div>").append(o.replace(N,""));l=f.find("img");if("media$thumbnail"in y[b]){c=y[b].media$thumbnail.url.replace(/\/s[0-9]+\-c/g,"/"+r.options.ImageSize);if(y[b]===y[0]&&r.options.postType!=="s"){c=y[b].media$thumbnail.url.replace(/\/s[0-9]+\-c/g,"/"+r.options.FirstImageSize)}else{if(y[b].media$thumbnail.url.indexOf("img.youtube.com")!=-1){c=y[b].media$thumbnail.url.replace("default","0")}}}else{if(l.length!=0){c=l[0].src}else{c=r.options.pBlank}}o=o.replace(/<\S[^>]*>/g,"");if(o.length>r.options.Summarylength){o=o.substring(0,r.options.Summarylength)+"..."}s=y[b].title.$t;m=y[b].published.$t.substring(0,10);h=m.substring(0,4);p=m.substring(5,7);d=m.substring(8,10);v=r.options.MonthNames[parseInt(p,10)-1];g+='<li class="small_item_'+b+'"><div class="inner" ><a title="'+s+'" class="thumbnail" href="https://portregaleri.blogspot.com/'+i+'"><img src="'+c+'"/></a><strong><a href="https://portregaleri.blogspot.com/'+i+'">'+s+'</a></strong><div class="info">'+(r.options.ShowDate===true?'<span><i class="icon-time"></i>'+v+" "+d+", "+h+"</span>":"")+(r.options.ShowComment===true?'<span><i class="icon-comment-alt"></i><a href="https://portregaleri.blogspot.com/'+i+'#comment-form">'+a+"</a></span>":"")+"</div><p "+(r.options.ShowDesc===false?"":'style="display:block"')+">"+o+"</p></div></li>"}e("ul",r.$el).append(g);if(r.options.postType==="s"){var C=e(t).parents(".widget");var k=C.children("h2");if(r.options.tagName!=false){k.wrapInner('<a href="https://portregaleri.blogspot.com/search/label/'+encodeURIComponent(r.options.tagName)+'"/>')}var L,A;var O=r.$el.width();if(e(window).width()<479){A=1;L=O/A}else{if(e(window).width()<979){A=2;L=O/A}else{if(e(window).width()<1025){A=3;L=O/A}else{A=4;L=O/A}}}e(".itemstag",r.$el).flexslider({animation:"slide",selector:".recentpost > li",animationLoop:true,itemWidth:L,minItems:1,move:A,mousewheel:true,maxItems:4});r.$el.removeClass(r.options.loadingClass)}else{if(r.options.tagName!=false){r.$el.append('<div class="viewtag  '+r.options.postType+'"><i class="icon-search"/><a title="Show labels" href="https://portregaleri.blogspot.com/search/label/'+encodeURIComponent(r.options.tagName)+'"><span>View All '+r.options.tagName+'</span></a></div>').removeClass(r.options.loadingClass)}}r.$el.removeClass(r.options.loadingClass)}else{r.$el.html("<center>No result! Or Error Loading Feed , Or change your tag ( videolar) name</center>")}},"jsonp")};r.init()};e.RecentPostbyTag.defaultOptions={blogURL:"",MaxPost:4,FirstImageSize:"s220-p",ImageSize:"s80-p",ShowDesc:false,ShowDate:true,ShowComment:true,Summarylength:100,postType:"v",loadingClass:"loadingxx",pBlank:"https://3.bp.blogspot.com/-xHJr6jweb3U/UTJVbYs8K0I/AAAAAAAAAy4/UzT_PXUB43A/s72-c/no-image.jpg",MonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],tagName:false};e.fn.RecentPostbyTag=function(t){return this.each(function(){new e.RecentPostbyTag(this,t)})}})(jQuery);(function(e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else{e(jQuery)}})(function(e){function t(){var t=n(this);var o=s.settings;if(!isNaN(t.datetime)){if(o.cutoff==0||i(t.datetime)<o.cutoff){e(this).text(r(t.datetime))}}return this}function n(t){t=e(t);if(!t.data("time")){t.data("time",{datetime:s.datetime(t)});var n=e.trim(t.text());if(s.settings.localeTitle){t.attr("title",t.data("time").datetime.toLocaleString())}else if(n.length>0&&!(s.isTime(t)&&t.attr("title"))){t.attr("title",n)}}return t.data("time")}function r(e){return s.inWords(i(e))}function i(e){return(new Date).getTime()-e.getTime()}e.time=function(t){if(t instanceof Date){return r(t)}else if(typeof t==="string"){return r(e.time.parse(t))}else if(typeof t==="number"){return r(new Date(t))}else{return r(e.time.datetime(t))}};var s=e.time;e.extend(e.time,{settings:{refreshMillis:6e4,allowFuture:false,localeTitle:false,cutoff:0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(t){function n(n,i){var s=e.isFunction(n)?n(i,t):n;var o=r.numbers&&r.numbers[i]||i;return s.replace(/%d/i,o)}var r=this.settings.strings;var i=r.prefixAgo;var s=r.suffixAgo;if(this.settings.allowFuture){if(t<0){i=r.prefixFromNow;s=r.suffixFromNow}}var o=Math.abs(t)/1e3;var u=o/60;var a=u/60;var f=a/24;var l=f/365;var c=o<45&&n(r.seconds,Math.round(o))||o<90&&n(r.minute,1)||u<45&&n(r.minutes,Math.round(u))||u<90&&n(r.hour,1)||a<24&&n(r.hours,Math.round(a))||a<42&&n(r.day,1)||f<30&&n(r.days,Math.round(f))||f<45&&n(r.month,1)||f<365&&n(r.months,Math.round(f/30))||l<1.5&&n(r.year,1)||n(r.years,Math.round(l));var h=r.wordSeparator||"";if(r.wordSeparator===undefined){h=" "}return e.trim([i,c,s].join(h))},parse:function(t){var n=e.trim(t);n=n.replace(/\.\d+/,"");n=n.replace(/-/,"/").replace(/-/,"/");n=n.replace(/T/," ").replace(/Z/," UTC");n=n.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2");return new Date(n)},datetime:function(t){var n=s.isTime(t)?e(t).attr("datetime"):e(t).attr("title");return s.parse(n)},isTime:function(t){return e(t).get(0).tagName.toLowerCase()==="time"}});var o={init:function(){var n=e.proxy(t,this);n();var r=s.settings;if(r.refreshMillis>0){setInterval(n,r.refreshMillis)}},update:function(n){e(this).data("time",{datetime:s.parse(n)});t.apply(this)},updateFromDOM:function(){e(this).data("time",{datetime:s.parse(s.isTime(this)?e(this).attr("datetime"):e(this).attr("title"))});t.apply(this)}};e.fn.time=function(e,t){var n=e?o[e]:o.init;if(!n){throw new Error("Unknown function name '"+e+"' for time")}this.each(function(){n.call(this,t)});return this};document.createElement("abbr");document.createElement("time")});(function(e){function t(){var e=document.getElementsByTagName("script");var t=e[e.length-1].src.split("?")[0];return t.split("/").length>0?t.split("/").slice(0,-1).join("/")+"/":""}function n(e,t,n){for(var r=0;r<t.length;r++)n(e,t[r])}var r=false;var i=false;var s=false;var o=5e3;var u=2e3;var f=0;var l=e;var c=t();var h=["ms","moz","webkit","o"];var p=window.requestAnimationFrame||false;var d=window.cancelAnimationFrame||false;if(!p){for(var v in h){var m=h[v];if(!p)p=window[m+"RequestAnimationFrame"];if(!d)d=window[m+"CancelAnimationFrame"]||window[m+"CancelRequestAnimationFrame"]}}var g=window.MutationObserver||window.WebKitMutationObserver||false;var y={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#888",cursorwidth:"12px",cursorborder:"1px solid #111",cursorborderradius:"22px",scrollspeed:60,mousescrollstep:8*3,touchbehavior:false,hwacceleration:true,usetransition:true,boxzoom:false,dblclickzoom:true,gesturezoom:true,grabcursorenabled:true,autohidemode:true,background:"",iframeautoresize:true,cursorminheight:32,preservenativescrolling:true,railoffset:false,bouncescroll:true,spacebarenabled:true,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:true,horizrailenabled:true,railalign:"right",railvalign:"bottom",enabletranslate3d:true,enablemousewheel:true,enablekeyboard:true,smoothscroll:true,sensitiverail:true,enablemouselockapi:true,cursorfixedheight:false,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:true,enablescrollonselection:true,overflowx:true,overflowy:true,cursordragspeed:.3,rtlmode:false,cursordragontouch:false,oneaxismousemode:"auto"};var b=false;var w=function(){function e(){var e=["-moz-grab","-webkit-grab","grab"];if(n.ischrome&&!n.ischrome22||n.isie)e=[];for(var r=0;r<e.length;r++){var i=e[r];t.style["cursor"]=i;if(t.style["cursor"]==i)return i}return"url(https://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize"}if(b)return b;var t=document.createElement("DIV");var n={};n.haspointerlock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document;n.isopera="opera"in window;n.isopera12=n.isopera&&"getUserMedia"in navigator;n.isoperamini=Object.prototype.toString.call(window.operamini)==="[object OperaMini]";n.isie="all"in document&&"attachEvent"in t&&!n.isopera;n.isieold=n.isie&&!("msInterpolationMode"in t.style);n.isie7=n.isie&&!n.isieold&&(!("documentMode"in document)||document.documentMode==7);n.isie8=n.isie&&"documentMode"in document&&document.documentMode==8;n.isie9=n.isie&&"performance"in window&&document.documentMode>=9;n.isie10=n.isie&&"performance"in window&&document.documentMode>=10;n.isie9mobile=/iemobile.9/i.test(navigator.userAgent);if(n.isie9mobile)n.isie9=false;n.isie7mobile=!n.isie9mobile&&n.isie7&&/iemobile/i.test(navigator.userAgent);n.ismozilla="MozAppearance"in t.style;n.iswebkit="WebkitAppearance"in t.style;n.ischrome="chrome"in window;n.ischrome22=n.ischrome&&n.haspointerlock;n.ischrome26=n.ischrome&&"transition"in t.style;n.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window;n.hasmstouch=window.navigator.msPointerEnabled||false;n.ismac=/^mac$/i.test(navigator.platform);n.isios=n.cantouch&&/iphone|ipad|ipod/i.test(navigator.platform);n.isios4=n.isios&&!("seal"in Object);n.isandroid=/android/i.test(navigator.userAgent);n.trstyle=false;n.hastransform=false;n.hastranslate3d=false;n.transitionstyle=false;n.hastransition=false;n.transitionend=false;var r=["transform","msTransform","webkitTransform","MozTransform","OTransform"];for(var i=0;i<r.length;i++){if(typeof t.style[r[i]]!="undefined"){n.trstyle=r[i];break}}n.hastransform=n.trstyle!=false;if(n.hastransform){t.style[n.trstyle]="translate3d(1px,2px,3px)";n.hastranslate3d=/translate3d/.test(t.style[n.trstyle])}n.transitionstyle=false;n.prefixstyle="";n.transitionend=false;var r=["transition","webkitTransition","MozTransition","OTransition","OTransition","msTransition","KhtmlTransition"];var s=["","-webkit-","-moz-","-o-","-o","-ms-","-khtml-"];var o=["transitionend","webkitTransitionEnd","transitionend","otransitionend","oTransitionEnd","msTransitionEnd","KhtmlTransitionEnd"];for(var i=0;i<r.length;i++){if(r[i]in t.style){n.transitionstyle=r[i];n.prefixstyle=s[i];n.transitionend=o[i];break}}if(n.ischrome26){n.prefixstyle=s[1]}n.hastransition=n.transitionstyle;n.cursorgrabvalue=e();n.hasmousecapture="setCapture"in t;n.hasMutationObserver=g!==false;t=null;b=n;return n};var E=function(e,t){function n(){var e=v.win;if("zIndex"in e)return e.zIndex();while(e.length>0){if(e[0].nodeType==9)return false;var t=e.css("zIndex");if(!isNaN(t)&&t!=0)return parseInt(t);e=e.parent()}return false}function s(e,t,n){var r=e.css(t);var i=parseFloat(r);if(isNaN(i)){i=x[r]||0;var s=i==3?n?v.win.outerHeight()-v.win.innerHeight():v.win.outerWidth()-v.win.innerWidth():1;if(v.isie8&&i)i+=1;return s?i:0}return i}function a(e,t,n,r){v._bind(e,t,function(r){var r=r?r:window.event;var i={original:r,target:r.target||r.srcElement,type:"wheel",deltaMode:r.type=="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0,preventDefault:function(){r.preventDefault?r.preventDefault():r.returnValue=false;return false},stopImmediatePropagation:function(){r.stopImmediatePropagation?r.stopImmediatePropagation():r.cancelBubble=true}};if(t=="mousewheel"){i.deltaY=-1/40*r.wheelDelta;r.wheelDeltaX&&(i.deltaX=-1/40*r.wheelDeltaX)}else{i.deltaY=r.detail}return n.call(e,i)},r)}function h(e,t,n){var r,i;var s=1;if(e.deltaMode==0){r=-Math.floor(e.deltaX*(v.opt.mousescrollstep/(18*3)));i=-Math.floor(e.deltaY*(v.opt.mousescrollstep/(18*3)))}else if(e.deltaMode==1){r=-Math.floor(e.deltaX*v.opt.mousescrollstep);i=-Math.floor(e.deltaY*v.opt.mousescrollstep)}if(t&&v.opt.oneaxismousemode&&r==0&&i){r=i;i=0}if(r){if(v.scrollmom){v.scrollmom.stop()}v.lastdeltax+=r;v.debounced("mousewheelx",function(){var e=v.lastdeltax;v.lastdeltax=0;if(!v.rail.drag){v.doScrollLeftBy(e)}},120)}if(i){if(v.opt.nativeparentscrolling&&n&&!v.ispage&&!v.zoomactive){if(i<0){if(v.getScrollTop()>=v.page.maxh)return true}else{if(v.getScrollTop()<=0)return true}}if(v.scrollmom){v.scrollmom.stop()}v.lastdeltay+=i;v.debounced("mousewheely",function(){var e=v.lastdeltay;v.lastdeltay=0;if(!v.rail.drag){v.doScrollBy(e)}},120)}e.stopImmediatePropagation();return e.preventDefault()}var v=this;this.version="3.5.0 BETA6";this.name="nicescroll";this.me=t;this.opt={doc:l("body"),win:false};l.extend(this.opt,y);this.opt.snapbackspeed=80;if(e||false){for(var m in v.opt){if(typeof e[m]!="undefined")v.opt[m]=e[m]}}this.doc=v.opt.doc;this.iddoc=this.doc&&this.doc[0]?this.doc[0].id||"":"";this.ispage=/BODY|HTML/.test(v.opt.win?v.opt.win[0].nodeName:this.doc[0].nodeName);this.haswrapper=v.opt.win!==false;this.win=v.opt.win||(this.ispage?l(window):this.doc);this.docscroll=this.ispage&&!this.haswrapper?l(window):this.win;this.body=l("body");this.viewport=false;this.isfixed=false;this.iframe=false;this.isiframe=this.doc[0].nodeName=="IFRAME"&&this.win[0].nodeName=="IFRAME";this.istextarea=this.win[0].nodeName=="TEXTAREA";this.forcescreen=false;this.canshowonmouseevent=v.opt.autohidemode!="scroll";this.onmousedown=false;this.onmouseup=false;this.onmousemove=false;this.onmousewheel=false;this.onkeypress=false;this.ongesturezoom=false;this.onclick=false;this.onscrollstart=false;this.onscrollend=false;this.onscrollcancel=false;this.onzoomin=false;this.onzoomout=false;this.view=false;this.page=false;this.scroll={x:0,y:0};this.scrollratio={x:0,y:0};this.cursorheight=20;this.scrollvaluemax=0;this.checkrtlmode=false;this.scrollrunning=false;this.scrollmom=false;this.observer=false;this.observerremover=false;do{this.id="ascrail"+u++}while(document.getElementById(this.id));this.rail=false;this.cursor=false;this.cursorfreezed=false;this.selectiondrag=false;this.zoom=false;this.zoomactive=false;this.hasfocus=false;this.hasmousefocus=false;this.visibility=true;this.locked=false;this.hidden=false;this.cursoractive=true;this.overflowx=v.opt.overflowx;this.overflowy=v.opt.overflowy;this.nativescrollingarea=false;this.checkarea=0;this.events=[];this.saved={};this.delaylist={};this.synclist={};this.lastdeltax=0;this.lastdeltay=0;this.detected=w();var b=l.extend({},this.detected);this.canhwscroll=b.hastransform&&v.opt.hwacceleration;this.ishwscroll=this.canhwscroll&&v.haswrapper;this.istouchcapable=false;if(b.cantouch&&b.ischrome&&!b.isios&&!b.isandroid){this.istouchcapable=true;b.cantouch=false}if(b.cantouch&&b.ismozilla&&!b.isios&&!b.isandroid){this.istouchcapable=true;b.cantouch=false}if(!v.opt.enablemouselockapi){b.hasmousecapture=false;b.haspointerlock=false}this.delayed=function(e,t,n,r){var i=v.delaylist[e];var s=(new Date).getTime();if(!r&&i&&i.tt)return false;if(i&&i.tt)clearTimeout(i.tt);if(i&&i.last+n>s&&!i.tt){v.delaylist[e]={last:s+n,tt:setTimeout(function(){v.delaylist[e].tt=0;t.call()},n)}}else if(!i||!i.tt){v.delaylist[e]={last:s,tt:0};setTimeout(function(){t.call()},0)}};this.debounced=function(e,t,n){var r=v.delaylist[e];var i=(new Date).getTime();v.delaylist[e]=t;if(!r){setTimeout(function(){var t=v.delaylist[e];v.delaylist[e]=false;t.call()},n)}};this.synched=function(e,t){function n(){if(v.onsync)return;p(function(){v.onsync=false;for(e in v.synclist){var t=v.synclist[e];if(t)t.call(v);v.synclist[e]=false}});v.onsync=true}v.synclist[e]=t;n();return e};this.unsynched=function(e){if(v.synclist[e])v.synclist[e]=false};this.css=function(e,t){for(var n in t){v.saved.css.push([e,n,e.css(n)]);e.css(n,t[n])}};this.scrollTop=function(e){return typeof e=="undefined"?v.getScrollTop():v.setScrollTop(e)};this.scrollLeft=function(e){return typeof e=="undefined"?v.getScrollLeft():v.setScrollLeft(e)};BezierClass=function(e,t,n,r,i,s,o){this.st=e;this.ed=t;this.spd=n;this.p1=r||0;this.p2=i||1;this.p3=s||0;this.p4=o||1;this.ts=(new Date).getTime();this.df=this.ed-this.st};BezierClass.prototype={B2:function(e){return 3*e*e*(1-e)},B3:function(e){return 3*e*(1-e)*(1-e)},B4:function(e){return(1-e)*(1-e)*(1-e)},getNow:function(){var e=(new Date).getTime();var t=1-(e-this.ts)/this.spd;var n=this.B2(t)+this.B3(t)+this.B4(t);return t<0?this.ed:this.st+Math.round(this.df*n)},update:function(e,t){this.st=this.getNow();this.ed=e;this.spd=t;this.ts=(new Date).getTime();this.df=this.ed-this.st;return this}};if(this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"};if(b.hastranslate3d&&b.isios)this.doc.css("-webkit-backface-visibility","hidden");function E(){var e=v.doc.css(b.trstyle);if(e&&e.substr(0,6)=="matrix"){return e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}return false}this.getScrollTop=function(e){if(!e){var t=E();if(t)return t.length==16?-t[13]:-t[5];if(v.timerscroll&&v.timerscroll.bz)return v.timerscroll.bz.getNow()}return v.doc.translate.y};this.getScrollLeft=function(e){if(!e){var t=E();if(t)return t.length==16?-t[12]:-t[4];if(v.timerscroll&&v.timerscroll.bh)return v.timerscroll.bh.getNow()}return v.doc.translate.x};if(document.createEvent){this.notifyScrollEvent=function(e){var t=document.createEvent("UIEvents");t.initUIEvent("scroll",false,true,window,1);e.dispatchEvent(t)}}else if(document.fireEvent){this.notifyScrollEvent=function(e){var t=document.createEventObject();e.fireEvent("onscroll");t.cancelBubble=true}}else{this.notifyScrollEvent=function(e,t){}}if(b.hastranslate3d&&v.opt.enabletranslate3d){this.setScrollTop=function(e,t){v.doc.translate.y=e;v.doc.translate.ty=e*-1+"px";v.doc.css(b.trstyle,"translate3d("+v.doc.translate.tx+","+v.doc.translate.ty+",0px)");if(!t)v.notifyScrollEvent(v.win[0])};this.setScrollLeft=function(e,t){v.doc.translate.x=e;v.doc.translate.tx=e*-1+"px";v.doc.css(b.trstyle,"translate3d("+v.doc.translate.tx+","+v.doc.translate.ty+",0px)");if(!t)v.notifyScrollEvent(v.win[0])}}else{this.setScrollTop=function(e,t){v.doc.translate.y=e;v.doc.translate.ty=e*-1+"px";v.doc.css(b.trstyle,"translate("+v.doc.translate.tx+","+v.doc.translate.ty+")");if(!t)v.notifyScrollEvent(v.win[0])};this.setScrollLeft=function(e,t){v.doc.translate.x=e;v.doc.translate.tx=e*-1+"px";v.doc.css(b.trstyle,"translate("+v.doc.translate.tx+","+v.doc.translate.ty+")");if(!t)v.notifyScrollEvent(v.win[0])}}}else{this.getScrollTop=function(){return v.docscroll.scrollTop()};this.setScrollTop=function(e){return v.docscroll.scrollTop(e)};this.getScrollLeft=function(){return v.docscroll.scrollLeft()};this.setScrollLeft=function(e){return v.docscroll.scrollLeft(e)}}this.getTarget=function(e){if(!e)return false;if(e.target)return e.target;if(e.srcElement)return e.srcElement;return false};this.hasParent=function(e,t){if(!e)return false;var n=e.target||e.srcElement||e||false;while(n&&n.id!=t){n=n.parentNode||false}return n!==false};var x={thin:1,medium:3,thick:5};this.getOffset=function(){if(v.isfixed)return{top:parseFloat(v.win.css("top")),left:parseFloat(v.win.css("left"))};if(!v.viewport)return v.win.offset();var e=v.win.offset();var t=v.viewport.offset();return{top:e.top-t.top+v.viewport.scrollTop(),left:e.left-t.left+v.viewport.scrollLeft()}};this.updateScrollBar=function(e){if(v.ishwscroll){v.rail.css({height:v.win.innerHeight()});if(v.railh)v.railh.css({width:v.win.innerWidth()})}else{var t=v.getOffset();var n={top:t.top,left:t.left};n.top+=s(v.win,"border-top-width",true);var r=(v.win.outerWidth()-v.win.innerWidth())/2;n.left+=v.rail.align?v.win.outerWidth()-s(v.win,"border-right-width")-v.rail.width:s(v.win,"border-left-width");var i=v.opt.railoffset;if(i){if(i.top)n.top+=i.top;if(v.rail.align&&i.left)n.left+=i.left}if(!v.locked)v.rail.css({top:n.top,left:n.left,height:e?e.h:v.win.innerHeight()});if(v.zoom){v.zoom.css({top:n.top+1,left:v.rail.align==1?n.left-20:n.left+v.rail.width+4})}if(v.railh&&!v.locked){var n={top:t.top,left:t.left};var o=v.railh.align?n.top+s(v.win,"border-top-width",true)+v.win.innerHeight()-v.railh.height:n.top+s(v.win,"border-top-width",true);var u=n.left+s(v.win,"border-left-width");v.railh.css({top:o,left:u,width:v.railh.width})}}};this.doRailClick=function(e,t,n){var r,i,s,o;if(v.locked)return;v.cancelEvent(e);if(t){r=n?v.doScrollLeft:v.doScrollTop;s=n?(e.pageX-v.railh.offset().left-v.cursorwidth/2)*v.scrollratio.x:(e.pageY-v.rail.offset().top-v.cursorheight/2)*v.scrollratio.y;r(s)}else{r=n?v.doScrollLeftBy:v.doScrollBy;s=n?v.scroll.x:v.scroll.y;o=n?e.pageX-v.railh.offset().left:e.pageY-v.rail.offset().top;i=n?v.view.w:v.view.h;s>=o?r(i):r(-i)}};v.hasanimationframe=p;v.hascancelanimationframe=d;if(!v.hasanimationframe){p=function(e){return setTimeout(e,15-Math.floor(+(new Date)/1e3)%16)};d=clearInterval}else if(!v.hascancelanimationframe)d=function(){v.cancelAnimationFrame=true};this.init=function(){v.saved.css=[];if(b.isie7mobile)return true;if(b.isoperamini)return true;if(b.hasmstouch)v.css(v.ispage?l("html"):v.win,{"-ms-touch-action":"none"});v.zindex="auto";if(!v.ispage&&v.opt.zindex=="auto"){v.zindex=n()||"auto"}else{v.zindex=v.opt.zindex}if(!v.ispage&&v.zindex!="auto"){if(v.zindex>f)f=v.zindex}if(v.isie&&v.zindex==0&&v.opt.zindex=="auto"){v.zindex="auto"}if(!v.ispage||!b.cantouch&&!b.isieold&&!b.isie9mobile){var e=v.docscroll;if(v.ispage)e=v.haswrapper?v.win:v.doc;if(!b.isie9mobile)v.css(e,{"overflow-y":"hidden"});if(v.ispage&&b.isie7){if(v.doc[0].nodeName=="BODY")v.css(l("html"),{"overflow-y":"hidden"});else if(v.doc[0].nodeName=="HTML")v.css(l("body"),{"overflow-y":"hidden"})}if(b.isios&&!v.ispage&&!v.haswrapper)v.css(l("body"),{"-webkit-overflow-scrolling":"touch"});var t=l(document.createElement("div"));t.css({position:"relative",top:0,"float":"right",width:v.opt.cursorwidth,height:"0px","background-color":v.opt.cursorcolor,border:v.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":v.opt.cursorborderradius,"-moz-border-radius":v.opt.cursorborderradius,"border-radius":v.opt.cursorborderradius});t.hborder=parseFloat(t.outerHeight()-t.innerHeight());v.cursor=t;var s=l(document.createElement("div"));s.attr("id",v.id);s.addClass("nicescroll-rails");var u,a,h=["left","right"];for(var p in h){a=h[p];u=v.opt.railpadding[a];u?s.css("padding-"+a,u+"px"):v.opt.railpadding[a]=0}s.append(t);s.width=Math.max(parseFloat(v.opt.cursorwidth),t.outerWidth())+v.opt.railpadding["left"]+v.opt.railpadding["right"];s.css({width:s.width+"px",zIndex:v.zindex,background:v.opt.background,cursor:"default"});s.visibility=true;s.scrollable=true;s.align=v.opt.railalign=="left"?0:1;v.rail=s;v.rail.drag=false;var d=false;if(v.opt.boxzoom&&!v.ispage&&!b.isieold){d=document.createElement("div");v.bind(d,"click",v.doZoom);v.zoom=l(d);v.zoom.css({cursor:"pointer","z-index":v.zindex,backgroundImage:"url("+c+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"});if(v.opt.dblclickzoom)v.bind(v.win,"dblclick",v.doZoom);if(b.cantouch&&v.opt.gesturezoom){v.ongesturezoom=function(e){if(e.scale>1.5)v.doZoomIn(e);if(e.scale<.8)v.doZoomOut(e);return v.cancelEvent(e)};v.bind(v.win,"gestureend",v.ongesturezoom)}}v.railh=false;if(v.opt.horizrailenabled){v.css(e,{"overflow-x":"hidden"});var t=l(document.createElement("div"));t.css({position:"relative",top:0,height:v.opt.cursorwidth,width:"0px","background-color":v.opt.cursorcolor,border:v.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":v.opt.cursorborderradius,"-moz-border-radius":v.opt.cursorborderradius,"border-radius":v.opt.cursorborderradius});t.wborder=parseFloat(t.outerWidth()-t.innerWidth());v.cursorh=t;var m=l(document.createElement("div"));m.attr("id",v.id+"-hr");m.addClass("nicescroll-rails");m.height=Math.max(parseFloat(v.opt.cursorwidth),t.outerHeight());m.css({height:m.height+"px",zIndex:v.zindex,background:v.opt.background});m.append(t);m.visibility=true;m.scrollable=true;m.align=v.opt.railvalign=="top"?0:1;v.railh=m;v.railh.drag=false}if(v.ispage){s.css({position:"fixed",top:"0px",height:"100%"});s.align?s.css({right:"0px"}):s.css({left:"0px"});v.body.append(s);if(v.railh){m.css({position:"fixed",left:"0px",width:"100%"});m.align?m.css({bottom:"0px"}):m.css({top:"0px"});v.body.append(m)}}else{if(v.ishwscroll){if(v.win.css("position")=="static")v.css(v.win,{position:"relative"});var y=v.win[0].nodeName=="HTML"?v.body:v.win;if(v.zoom){v.zoom.css({position:"absolute",top:1,right:0,"margin-right":s.width+4});y.append(v.zoom)}s.css({position:"absolute",top:0});s.align?s.css({right:0}):s.css({left:0});y.append(s);if(m){m.css({position:"absolute",left:0,bottom:0});m.align?m.css({bottom:0}):m.css({top:0});y.append(m)}}else{v.isfixed=v.win.css("position")=="fixed";var w=v.isfixed?"fixed":"absolute";if(!v.isfixed)v.viewport=v.getViewport(v.win[0]);if(v.viewport){v.body=v.viewport;if(/relative|absolute/.test(v.viewport.css("position"))==false)v.css(v.viewport,{position:"relative"})}s.css({position:w});if(v.zoom)v.zoom.css({position:w});v.updateScrollBar();v.body.append(s);if(v.zoom)v.body.append(v.zoom);if(v.railh){m.css({position:w});v.body.append(m)}}if(b.isios)v.css(v.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"});if(b.isie&&v.opt.disableoutline)v.win.attr("hideFocus","true");if(b.iswebkit&&v.opt.disableoutline)v.win.css({outline:"none"})}if(v.opt.autohidemode===false){v.autohidedom=false;v.rail.css({opacity:v.opt.cursoropacitymax});if(v.railh)v.railh.css({opacity:v.opt.cursoropacitymax})}else if(v.opt.autohidemode===true){v.autohidedom=l().add(v.rail);if(b.isie8)v.autohidedom=v.autohidedom.add(v.cursor);if(v.railh)v.autohidedom=v.autohidedom.add(v.railh);if(v.railh&&b.isie8)v.autohidedom=v.autohidedom.add(v.cursorh)}else if(v.opt.autohidemode=="scroll"){v.autohidedom=l().add(v.rail);if(v.railh)v.autohidedom=v.autohidedom.add(v.railh)}else if(v.opt.autohidemode=="cursor"){v.autohidedom=l().add(v.cursor);if(v.railh)v.autohidedom=v.autohidedom.add(v.cursorh)}else if(v.opt.autohidemode=="hidden"){v.autohidedom=false;v.hide();v.locked=false}if(b.isie9mobile){v.scrollmom=new S(v);v.onmangotouch=function(e){var t=v.getScrollTop();var n=v.getScrollLeft();if(t==v.scrollmom.lastscrolly&&n==v.scrollmom.lastscrollx)return true;var r=t-v.mangotouch.sy;var i=n-v.mangotouch.sx;var s=Math.round(Math.sqrt(Math.pow(i,2)+Math.pow(r,2)));if(s==0)return;var o=r<0?-1:1;var u=i<0?-1:1;var a=+(new Date);if(v.mangotouch.lazy)clearTimeout(v.mangotouch.lazy);if(a-v.mangotouch.tm>80||v.mangotouch.dry!=o||v.mangotouch.drx!=u){v.scrollmom.stop();v.scrollmom.reset(n,t);v.mangotouch.sy=t;v.mangotouch.ly=t;v.mangotouch.sx=n;v.mangotouch.lx=n;v.mangotouch.dry=o;v.mangotouch.drx=u;v.mangotouch.tm=a}else{v.scrollmom.stop();v.scrollmom.update(v.mangotouch.sx-i,v.mangotouch.sy-r);var f=a-v.mangotouch.tm;v.mangotouch.tm=a;var l=Math.max(Math.abs(v.mangotouch.ly-t),Math.abs(v.mangotouch.lx-n));v.mangotouch.ly=t;v.mangotouch.lx=n;if(l>2){v.mangotouch.lazy=setTimeout(function(){v.mangotouch.lazy=false;v.mangotouch.dry=0;v.mangotouch.drx=0;v.mangotouch.tm=0;v.scrollmom.doMomentum(30)},100)}}};var E=v.getScrollTop();var x=v.getScrollLeft();v.mangotouch={sy:E,ly:E,dry:0,sx:x,lx:x,drx:0,lazy:false,tm:0};v.bind(v.docscroll,"scroll",v.onmangotouch)}else{if(b.cantouch||v.istouchcapable||v.opt.touchbehavior||b.hasmstouch){v.scrollmom=new S(v);v.ontouchstart=function(e){if(e.pointerType&&e.pointerType!=2)return false;if(!v.locked){if(b.hasmstouch){var t=e.target?e.target:false;while(t){var n=l(t).getNiceScroll();if(n.length>0&&n[0].me==v.me)break;if(n.length>0)return false;if(t.nodeName=="DIV"&&t.id==v.id)break;t=t.parentNode?t.parentNode:false}}v.cancelScroll();var t=v.getTarget(e);if(t){var r=/INPUT/i.test(t.nodeName)&&/range/i.test(t.type);if(r)return v.stopPropagation(e)}if(!("clientX"in e)&&"changedTouches"in e){e.clientX=e.changedTouches[0].clientX;e.clientY=e.changedTouches[0].clientY}if(v.forcescreen){var i=e;var e={original:e.original?e.original:e};e.clientX=i.screenX;e.clientY=i.screenY}v.rail.drag={x:e.clientX,y:e.clientY,sx:v.scroll.x,sy:v.scroll.y,st:v.getScrollTop(),sl:v.getScrollLeft(),pt:2,dl:false};if(v.ispage||!v.opt.directionlockdeadzone){v.rail.drag.dl="f"}else{var s={w:l(window).width(),h:l(window).height()};var o={w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)};var u=Math.max(0,o.h-s.h);var a=Math.max(0,o.w-s.w);if(!v.rail.scrollable&&v.railh.scrollable)v.rail.drag.ck=u>0?"v":false;else if(v.rail.scrollable&&!v.railh.scrollable)v.rail.drag.ck=a>0?"h":false;else v.rail.drag.ck=false;if(!v.rail.drag.ck)v.rail.drag.dl="f"}if(v.opt.touchbehavior&&v.isiframe&&b.isie){var f=v.win.position();v.rail.drag.x+=f.left;v.rail.drag.y+=f.top}v.hasmoving=false;v.lastmouseup=false;v.scrollmom.reset(e.clientX,e.clientY);if(!b.cantouch&&!this.istouchcapable&&!b.hasmstouch){var c=t?/INPUT|SELECT|TEXTAREA/i.test(t.nodeName):false;if(!c){if(!v.ispage&&b.hasmousecapture)t.setCapture();return v.opt.touchbehavior?v.cancelEvent(e):v.stopPropagation(e)}if(/SUBMIT|CANCEL|BUTTON/i.test(l(t).attr("type"))){pc={tg:t,click:false};v.preventclick=pc}}}};v.ontouchend=function(e){if(e.pointerType&&e.pointerType!=2)return false;if(v.rail.drag&&v.rail.drag.pt==2){v.scrollmom.doMomentum();v.rail.drag=false;if(v.hasmoving){v.hasmoving=false;v.lastmouseup=true;v.hideCursor();if(b.hasmousecapture)document.releaseCapture();if(!b.cantouch)return v.cancelEvent(e)}}};var T=v.opt.touchbehavior&&v.isiframe&&!b.hasmousecapture;v.ontouchmove=function(e,t){if(e.pointerType&&e.pointerType!=2)return false;if(v.rail.drag&&v.rail.drag.pt==2){if(b.cantouch&&typeof e.original=="undefined")return true;v.hasmoving=true;if(v.preventclick&&!v.preventclick.click){v.preventclick.click=v.preventclick.tg.onclick||false;v.preventclick.tg.onclick=v.onpreventclick}var n=l.extend({original:e},e);e=n;if("changedTouches"in e){e.clientX=e.changedTouches[0].clientX;e.clientY=e.changedTouches[0].clientY}if(v.forcescreen){var r=e;var e={original:e.original?e.original:e};e.clientX=r.screenX;e.clientY=r.screenY}var i=ofy=0;if(T&&!t){var s=v.win.position();i=-s.left;ofy=-s.top}var o=e.clientY+ofy;var u=o-v.rail.drag.y;var a=e.clientX+i;var f=a-v.rail.drag.x;var c=v.rail.drag.st-u;if(v.ishwscroll&&v.opt.bouncescroll){if(c<0){c=Math.round(c/2)}else if(c>v.page.maxh){c=v.page.maxh+Math.round((c-v.page.maxh)/2)}}else{if(c<0){c=0;o=0}if(c>v.page.maxh){c=v.page.maxh;o=0}}if(v.railh&&v.railh.scrollable){var h=v.rail.drag.sl-f;if(v.ishwscroll&&v.opt.bouncescroll){if(h<0){h=Math.round(h/2)}else if(h>v.page.maxw){h=v.page.maxw+Math.round((h-v.page.maxw)/2)}}else{if(h<0){h=0;a=0}if(h>v.page.maxw){h=v.page.maxw;a=0}}}var p=false;if(v.rail.drag.dl){p=true;if(v.rail.drag.dl=="v")h=v.rail.drag.sl;else if(v.rail.drag.dl=="h")c=v.rail.drag.st}else{var d=Math.abs(u);var m=Math.abs(f);var g=v.opt.directionlockdeadzone;if(v.rail.drag.ck=="v"){if(d>g&&m<=d*.3){v.rail.drag=false;return true}else if(m>g){v.rail.drag.dl="f";l("body").scrollTop(l("body").scrollTop())}}else if(v.rail.drag.ck=="h"){if(m>g&&d<=m*.3){v.rail.drag=false;return true}else if(d>g){v.rail.drag.dl="f";l("body").scrollLeft(l("body").scrollLeft())}}}v.synched("touchmove",function(){if(v.rail.drag&&v.rail.drag.pt==2){if(v.prepareTransition)v.prepareTransition(0);if(v.rail.scrollable)v.setScrollTop(c);v.scrollmom.update(a,o);if(v.railh&&v.railh.scrollable){v.setScrollLeft(h);v.showCursor(c,h)}else{v.showCursor(c)}if(b.isie10)document.selection.clear()}});if(b.ischrome&&v.istouchcapable)p=false;if(p)return v.cancelEvent(e)}}}v.onmousedown=function(e,t){if(v.rail.drag&&v.rail.drag.pt!=1)return;if(v.locked)return v.cancelEvent(e);v.cancelScroll();v.rail.drag={x:e.clientX,y:e.clientY,sx:v.scroll.x,sy:v.scroll.y,pt:1,hr:!!t};var n=v.getTarget(e);if(!v.ispage&&b.hasmousecapture)n.setCapture();if(v.isiframe&&!b.hasmousecapture){v.saved["csspointerevents"]=v.doc.css("pointer-events");v.css(v.doc,{"pointer-events":"none"})}return v.cancelEvent(e)};v.onmouseup=function(e){if(v.rail.drag){if(b.hasmousecapture)document.releaseCapture();if(v.isiframe&&!b.hasmousecapture)v.doc.css("pointer-events",v.saved["csspointerevents"]);if(v.rail.drag.pt!=1)return;v.rail.drag=false;return v.cancelEvent(e)}};v.onmousemove=function(e){if(v.rail.drag){if(v.rail.drag.pt!=1)return;if(b.ischrome&&e.which==0)return v.onmouseup(e);v.cursorfreezed=true;if(v.rail.drag.hr){v.scroll.x=v.rail.drag.sx+(e.clientX-v.rail.drag.x);if(v.scroll.x<0)v.scroll.x=0;var t=v.scrollvaluemaxw;if(v.scroll.x>t)v.scroll.x=t}else{v.scroll.y=v.rail.drag.sy+(e.clientY-v.rail.drag.y);if(v.scroll.y<0)v.scroll.y=0;var n=v.scrollvaluemax;if(v.scroll.y>n)v.scroll.y=n}v.synched("mousemove",function(){if(v.rail.drag&&v.rail.drag.pt==1){v.showCursor();if(v.rail.drag.hr)v.doScrollLeft(Math.round(v.scroll.x*v.scrollratio.x),v.opt.cursordragspeed);else v.doScrollTop(Math.round(v.scroll.y*v.scrollratio.y),v.opt.cursordragspeed)}});return v.cancelEvent(e)}};if(b.cantouch||v.opt.touchbehavior){v.onpreventclick=function(e){if(v.preventclick){v.preventclick.tg.onclick=v.preventclick.click;v.preventclick=false;return v.cancelEvent(e)}};v.bind(v.win,"mousedown",v.ontouchstart);v.onclick=b.isios?false:function(e){if(v.lastmouseup){v.lastmouseup=false;return v.cancelEvent(e)}else{return true}};if(v.opt.grabcursorenabled&&b.cursorgrabvalue){v.css(v.ispage?v.doc:v.win,{cursor:b.cursorgrabvalue});v.css(v.rail,{cursor:b.cursorgrabvalue})}}else{function N(e){if(!v.selectiondrag)return;if(e){var t=v.win.outerHeight();var n=e.pageY-v.selectiondrag.top;if(n>0&&n<t)n=0;if(n>=t)n-=t;v.selectiondrag.df=n}if(v.selectiondrag.df==0)return;var r=-Math.floor(v.selectiondrag.df/6)*2;v.doScrollBy(r);v.debounced("doselectionscroll",function(){N()},50)}if("getSelection"in document){v.hasTextSelected=function(){return document.getSelection().rangeCount>0}}else if("selection"in document){v.hasTextSelected=function(){return document.selection.type!="None"}}else{v.hasTextSelected=function(){return false}}v.onselectionstart=function(e){if(v.ispage)return;v.selectiondrag=v.win.offset()};v.onselectionend=function(e){v.selectiondrag=false};v.onselectiondrag=function(e){if(!v.selectiondrag)return;if(v.hasTextSelected())v.debounced("selectionscroll",function(){N(e)},250)}}if(b.hasmstouch){v.css(v.rail,{"-ms-touch-action":"none"});v.css(v.cursor,{"-ms-touch-action":"none"});v.bind(v.win,"MSPointerDown",v.ontouchstart);v.bind(document,"MSPointerUp",v.ontouchend);v.bind(document,"MSPointerMove",v.ontouchmove);v.bind(v.cursor,"MSGestureHold",function(e){e.preventDefault()});v.bind(v.cursor,"contextmenu",function(e){e.preventDefault()})}if(this.istouchcapable){v.bind(v.win,"touchstart",v.ontouchstart);v.bind(document,"touchend",v.ontouchend);v.bind(document,"touchcancel",v.ontouchend);v.bind(document,"touchmove",v.ontouchmove)}v.bind(v.cursor,"mousedown",v.onmousedown);v.bind(v.cursor,"mouseup",v.onmouseup);if(v.railh){v.bind(v.cursorh,"mousedown",function(e){v.onmousedown(e,true)});v.bind(v.cursorh,"mouseup",function(e){if(v.rail.drag&&v.rail.drag.pt==2)return;v.rail.drag=false;v.hasmoving=false;v.hideCursor();if(b.hasmousecapture)document.releaseCapture();return v.cancelEvent(e)})}if(v.opt.cursordragontouch||!b.cantouch&&!v.opt.touchbehavior){v.rail.css({cursor:"default"});v.railh&&v.railh.css({cursor:"default"});v.jqbind(v.rail,"mouseenter",function(){if(v.canshowonmouseevent)v.showCursor();v.rail.active=true});v.jqbind(v.rail,"mouseleave",function(){v.rail.active=false;if(!v.rail.drag)v.hideCursor()});if(v.opt.sensitiverail){v.bind(v.rail,"click",function(e){v.doRailClick(e,false,false)});v.bind(v.rail,"dblclick",function(e){v.doRailClick(e,true,false)});v.bind(v.cursor,"click",function(e){v.cancelEvent(e)});v.bind(v.cursor,"dblclick",function(e){v.cancelEvent(e)})}if(v.railh){v.jqbind(v.railh,"mouseenter",function(){if(v.canshowonmouseevent)v.showCursor();v.rail.active=true});v.jqbind(v.railh,"mouseleave",function(){v.rail.active=false;if(!v.rail.drag)v.hideCursor()});if(v.opt.sensitiverail){v.bind(v.railh,"click",function(e){v.doRailClick(e,false,true)});v.bind(v.railh,"dblclick",function(e){v.doRailClick(e,true,true)});v.bind(v.cursorh,"click",function(e){v.cancelEvent(e)});v.bind(v.cursorh,"dblclick",function(e){v.cancelEvent(e)})}}}if(!b.cantouch&&!v.opt.touchbehavior){v.bind(b.hasmousecapture?v.win:document,"mouseup",v.onmouseup);v.bind(document,"mousemove",v.onmousemove);if(v.onclick)v.bind(document,"click",v.onclick);if(!v.ispage&&v.opt.enablescrollonselection){v.bind(v.win[0],"mousedown",v.onselectionstart);v.bind(document,"mouseup",v.onselectionend);v.bind(v.cursor,"mouseup",v.onselectionend);if(v.cursorh)v.bind(v.cursorh,"mouseup",v.onselectionend);v.bind(document,"mousemove",v.onselectiondrag)}if(v.zoom){v.jqbind(v.zoom,"mouseenter",function(){if(v.canshowonmouseevent)v.showCursor();v.rail.active=true});v.jqbind(v.zoom,"mouseleave",function(){v.rail.active=false;if(!v.rail.drag)v.hideCursor()})}}else{v.bind(b.hasmousecapture?v.win:document,"mouseup",v.ontouchend);v.bind(document,"mousemove",v.ontouchmove);if(v.onclick)v.bind(document,"click",v.onclick);if(v.opt.cursordragontouch){v.bind(v.cursor,"mousedown",v.onmousedown);v.bind(v.cursor,"mousemove",v.onmousemove);v.cursorh&&v.bind(v.cursorh,"mousedown",function(e){v.onmousedown(e,true)});v.cursorh&&v.bind(v.cursorh,"mousemove",v.onmousemove)}}if(v.opt.enablemousewheel){if(!v.isiframe)v.bind(b.isie&&v.ispage?document:v.win,"mousewheel",v.onmousewheel);v.bind(v.rail,"mousewheel",v.onmousewheel);if(v.railh)v.bind(v.railh,"mousewheel",v.onmousewheelhr)}if(!v.ispage&&!b.cantouch&&!/HTML|BODY/.test(v.win[0].nodeName)){if(!v.win.attr("tabindex"))v.win.attr({tabindex:o++});v.jqbind(v.win,"focus",function(e){r=v.getTarget(e).id||true;v.hasfocus=true;if(v.canshowonmouseevent)v.noticeCursor()});v.jqbind(v.win,"blur",function(e){r=false;v.hasfocus=false});v.jqbind(v.win,"mouseenter",function(e){i=v.getTarget(e).id||true;v.hasmousefocus=true;if(v.canshowonmouseevent)v.noticeCursor()});v.jqbind(v.win,"mouseleave",function(){i=false;v.hasmousefocus=false})}}v.onkeypress=function(e){if(v.locked&&v.page.maxh==0)return true;e=e?e:window.e;var t=v.getTarget(e);if(t&&/INPUT|TEXTAREA|SELECT|OPTION/.test(t.nodeName)){var n=t.getAttribute("type")||t.type||false;if(!n||!/submit|button|cancel/i.tp)return true}if(v.hasfocus||v.hasmousefocus&&!r||v.ispage&&!r&&!i){var s=e.keyCode;if(v.locked&&s!=27)return v.cancelEvent(e);var o=e.ctrlKey||false;var u=e.shiftKey||false;var a=false;switch(s){case 38:case 63233:v.doScrollBy(24*3);a=true;break;case 40:case 63235:v.doScrollBy(-24*3);a=true;break;case 37:case 63232:if(v.railh){o?v.doScrollLeft(0):v.doScrollLeftBy(24*3);a=true}break;case 39:case 63234:if(v.railh){o?v.doScrollLeft(v.page.maxw):v.doScrollLeftBy(-24*3);a=true}break;case 33:case 63276:v.doScrollBy(v.view.h);a=true;break;case 34:case 63277:v.doScrollBy(-v.view.h);a=true;break;case 36:case 63273:v.railh&&o?v.doScrollPos(0,0):v.doScrollTo(0);a=true;break;case 35:case 63275:v.railh&&o?v.doScrollPos(v.page.maxw,v.page.maxh):v.doScrollTo(v.page.maxh);a=true;break;case 32:if(v.opt.spacebarenabled){u?v.doScrollBy(v.view.h):v.doScrollBy(-v.view.h);a=true}break;case 27:if(v.zoomactive){v.doZoom();a=true}break}if(a)return v.cancelEvent(e)}};if(v.opt.enablekeyboard)v.bind(document,b.isopera&&!b.isopera12?"keypress":"keydown",v.onkeypress);v.bind(window,"resize",v.lazyResize);v.bind(window,"orientationchange",v.lazyResize);v.bind(window,"load",v.lazyResize);if(b.ischrome&&!v.ispage&&!v.haswrapper){var C=v.win.attr("style");var k=parseFloat(v.win.css("width"))+1;v.win.css("width",k);v.synched("chromefix",function(){v.win.attr("style",C)})}v.onAttributeChange=function(e){v.lazyResize(250)};if(!v.ispage&&!v.haswrapper){if(g!==false){v.observer=new g(function(e){e.forEach(v.onAttributeChange)});v.observer.observe(v.win[0],{childList:true,characterData:false,attributes:true,subtree:false});v.observerremover=new g(function(e){e.forEach(function(e){if(e.removedNodes.length>0){for(var t in e.removedNodes){if(e.removedNodes[t]==v.win[0])return v.remove()}}})});v.observerremover.observe(v.win[0].parentNode,{childList:true,characterData:false,attributes:false,subtree:false})}else{v.bind(v.win,b.isie&&!b.isie9?"propertychange":"DOMAttrModified",v.onAttributeChange);if(b.isie9)v.win[0].attachEvent("onpropertychange",v.onAttributeChange);v.bind(v.win,"DOMNodeRemoved",function(e){if(e.target==v.win[0])v.remove()})}}if(!v.ispage&&v.opt.boxzoom)v.bind(window,"resize",v.resizeZoom);if(v.istextarea)v.bind(v.win,"mouseup",v.lazyResize);v.checkrtlmode=true;v.lazyResize(30)}if(this.doc[0].nodeName=="IFRAME"){function L(e){v.iframexd=false;try{var t="contentDocument"in this?this.contentDocument:this.contentWindow.document;var n=t.domain}catch(e){v.iframexd=true;t=false}if(v.iframexd){if("console"in window)console.log("NiceScroll error: policy restriced iframe");return true}v.forcescreen=true;if(v.isiframe){v.iframe={doc:l(t),html:v.doc.contents().find("html")[0],body:v.doc.contents().find("body")[0]};v.getContentSize=function(){return{w:Math.max(v.iframe.html.scrollWidth,v.iframe.body.scrollWidth),h:Math.max(v.iframe.html.scrollHeight,v.iframe.body.scrollHeight)}};v.docscroll=l(v.iframe.body)}if(!b.isios&&v.opt.iframeautoresize&&!v.isiframe){v.win.scrollTop(0);v.doc.height("");var r=Math.max(t.getElementsByTagName("html")[0].scrollHeight,t.body.scrollHeight);v.doc.height(r)}v.lazyResize(30);if(b.isie7)v.css(l(v.iframe.html),{"overflow-y":"hidden"});v.css(l(v.iframe.body),{"overflow-y":"hidden"});if(b.isios&&v.haswrapper){v.css(l(t.body),{"-webkit-transform":"translate3d(0,0,0)"});console.log(1)}if("contentWindow"in this){v.bind(this.contentWindow,"scroll",v.onscroll)}else{v.bind(t,"scroll",v.onscroll)}if(v.opt.enablemousewheel){v.bind(t,"mousewheel",v.onmousewheel)}if(v.opt.enablekeyboard)v.bind(t,b.isopera?"keypress":"keydown",v.onkeypress);if(b.cantouch||v.opt.touchbehavior){v.bind(t,"mousedown",v.ontouchstart);v.bind(t,"mousemove",function(e){v.ontouchmove(e,true)});if(v.opt.grabcursorenabled&&b.cursorgrabvalue)v.css(l(t.body),{cursor:b.cursorgrabvalue})}v.bind(t,"mouseup",v.ontouchend);if(v.zoom){if(v.opt.dblclickzoom)v.bind(t,"dblclick",v.doZoom);if(v.ongesturezoom)v.bind(t,"gestureend",v.ongesturezoom)}}if(this.doc[0].readyState&&this.doc[0].readyState=="complete"){setTimeout(function(){L.call(v.doc[0],false)},500)}v.bind(this.doc,"load",L)}};this.showCursor=function(e,t){if(v.cursortimeout){clearTimeout(v.cursortimeout);v.cursortimeout=0}if(!v.rail)return;if(v.autohidedom){v.autohidedom.stop().css({opacity:v.opt.cursoropacitymax});v.cursoractive=true}if(!v.rail.drag||v.rail.drag.pt!=1){if(typeof e!="undefined"&&e!==false){v.scroll.y=Math.round(e*1/v.scrollratio.y)}if(typeof t!="undefined"){v.scroll.x=Math.round(t*1/v.scrollratio.x)}}v.cursor.css({height:v.cursorheight,top:v.scroll.y});if(v.cursorh){!v.rail.align&&v.rail.visibility?v.cursorh.css({width:v.cursorwidth,left:v.scroll.x+v.rail.width}):v.cursorh.css({width:v.cursorwidth,left:v.scroll.x});v.cursoractive=true}if(v.zoom)v.zoom.stop().css({opacity:v.opt.cursoropacitymax})};this.hideCursor=function(e){if(v.cursortimeout)return;if(!v.rail)return;if(!v.autohidedom)return;v.cursortimeout=setTimeout(function(){if(!v.rail.active||!v.showonmouseevent){v.autohidedom.stop().animate({opacity:v.opt.cursoropacitymin});if(v.zoom)v.zoom.stop().animate({opacity:v.opt.cursoropacitymin});v.cursoractive=false}v.cursortimeout=0},e||v.opt.hidecursordelay)};this.noticeCursor=function(e,t,n){v.showCursor(t,n);if(!v.rail.active)v.hideCursor(e)};this.getContentSize=v.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:v.haswrapper?function(){return{w:v.doc.outerWidth()+parseInt(v.win.css("paddingLeft"))+parseInt(v.win.css("paddingRight")),h:v.doc.outerHeight()+parseInt(v.win.css("paddingTop"))+parseInt(v.win.css("paddingBottom"))}}:function(){return{w:v.docscroll[0].scrollWidth,h:v.docscroll[0].scrollHeight}};this.onResize=function(e,t){if(!v.win)return false;if(!v.haswrapper&&!v.ispage){if(v.win.css("display")=="none"){if(v.visibility)v.hideRail().hideRailHr();return false}else{if(!v.hidden&&!v.visibility)v.showRail().showRailHr()}}var n=v.page.maxh;var r=v.page.maxw;var i={h:v.view.h,w:v.view.w};v.view={w:v.ispage?v.win.width():parseInt(v.win[0].clientWidth),h:v.ispage?v.win.height():parseInt(v.win[0].clientHeight)};v.page=t?t:v.getContentSize();v.page.maxh=Math.max(0,v.page.h-v.view.h);v.page.maxw=Math.max(0,v.page.w-v.view.w);if(v.page.maxh==n&&v.page.maxw==r&&v.view.w==i.w){if(!v.ispage){var s=v.win.offset();if(v.lastposition){var o=v.lastposition;if(o.top==s.top&&o.left==s.left)return v}v.lastposition=s}else{return v}}if(v.page.maxh==0){v.hideRail();v.scrollvaluemax=0;v.scroll.y=0;v.scrollratio.y=0;v.cursorheight=0;v.setScrollTop(0);v.rail.scrollable=false}else{v.rail.scrollable=true}if(v.page.maxw==0){v.hideRailHr();v.scrollvaluemaxw=0;v.scroll.x=0;v.scrollratio.x=0;v.cursorwidth=0;v.setScrollLeft(0);v.railh.scrollable=false}else{v.railh.scrollable=true}v.locked=v.page.maxh==0&&v.page.maxw==0;if(v.locked){if(!v.ispage)v.updateScrollBar(v.view);return false}if(!v.hidden&&!v.visibility){v.showRail().showRailHr()}else if(!v.hidden&&!v.railh.visibility)v.showRailHr();if(v.istextarea&&v.win.css("resize")&&v.win.css("resize")!="none")v.view.h-=20;v.cursorheight=Math.min(v.view.h,Math.round(v.view.h*(v.view.h/v.page.h)));v.cursorheight=v.opt.cursorfixedheight?v.opt.cursorfixedheight:Math.max(v.opt.cursorminheight,v.cursorheight);v.cursorwidth=Math.min(v.view.w,Math.round(v.view.w*(v.view.w/v.page.w)));v.cursorwidth=v.opt.cursorfixedheight?v.opt.cursorfixedheight:Math.max(v.opt.cursorminheight,v.cursorwidth);v.scrollvaluemax=v.view.h-v.cursorheight-v.cursor.hborder;if(v.railh){v.railh.width=v.page.maxh>0?v.view.w-v.rail.width:v.view.w;v.scrollvaluemaxw=v.railh.width-v.cursorwidth-v.cursorh.wborder}if(v.checkrtlmode&&v.railh){v.checkrtlmode=false;if(v.opt.rtlmode&&v.scroll.x==0)v.setScrollLeft(v.page.maxw)}if(!v.ispage)v.updateScrollBar(v.view);v.scrollratio={x:v.page.maxw/v.scrollvaluemaxw,y:v.page.maxh/v.scrollvaluemax};var u=v.getScrollTop();if(u>v.page.maxh){v.doScrollTop(v.page.maxh)}else{v.scroll.y=Math.round(v.getScrollTop()*(1/v.scrollratio.y));v.scroll.x=Math.round(v.getScrollLeft()*(1/v.scrollratio.x));if(v.cursoractive)v.noticeCursor()}if(v.scroll.y&&v.getScrollTop()==0)v.doScrollTo(Math.floor(v.scroll.y*v.scrollratio.y));return v};this.resize=v.onResize;this.lazyResize=function(e){e=isNaN(e)?30:e;v.delayed("resize",v.resize,e);return v};this._bind=function(e,t,n,r){v.events.push({e:e,n:t,f:n,b:r,q:false});if(e.addEventListener){e.addEventListener(t,n,r||false)}else if(e.attachEvent){e.attachEvent("on"+t,n)}else{e["on"+t]=n}};this.jqbind=function(e,t,n){v.events.push({e:e,n:t,f:n,q:true});l(e).bind(t,n)};this.bind=function(e,t,n,r){var i="jquery"in e?e[0]:e;if(t=="mousewheel"){if("onwheel"in v.win){v._bind(i,"wheel",n,r||false)}else{var s=typeof document.onmousewheel!="undefined"?"mousewheel":"DOMMouseScroll";a(i,s,n,r||false);if(s=="DOMMouseScroll")a(i,"MozMousePixelScroll",n,r||false)}}else if(i.addEventListener){if(b.cantouch&&/mouseup|mousedown|mousemove/.test(t)){var o=t=="mousedown"?"touchstart":t=="mouseup"?"touchend":"touchmove";v._bind(i,o,function(e){if(e.touches){if(e.touches.length<2){var t=e.touches.length?e.touches[0]:e;t.original=e;n.call(this,t)}}else if(e.changedTouches){var t=e.changedTouches[0];t.original=e;n.call(this,t)}},r||false)}v._bind(i,t,n,r||false);if(b.cantouch&&t=="mouseup")v._bind(i,"touchcancel",n,r||false)}else{v._bind(i,t,function(e){e=e||window.event||false;if(e){if(e.srcElement)e.target=e.srcElement}if(!("pageY"in e)){e.pageX=e.clientX+document.documentElement.scrollLeft;e.pageY=e.clientY+document.documentElement.scrollTop}return n.call(i,e)===false||r===false?v.cancelEvent(e):true})}};this._unbind=function(e,t,n,r){if(e.removeEventListener){e.removeEventListener(t,n,r)}else if(e.detachEvent){e.detachEvent("on"+t,n)}else{e["on"+t]=false}};this.unbindAll=function(){for(var e=0;e<v.events.length;e++){var t=v.events[e];t.q?t.e.unbind(t.n,t.f):v._unbind(t.e,t.n,t.f,t.b)}};this.cancelEvent=function(e){var e=e.original?e.original:e?e:window.event||false;if(!e)return false;if(e.preventDefault)e.preventDefault();if(e.stopPropagation)e.stopPropagation();if(e.preventManipulation)e.preventManipulation();e.cancelBubble=true;e.cancel=true;e.returnValue=false;return false};this.stopPropagation=function(e){var e=e.original?e.original:e?e:window.event||false;if(!e)return false;if(e.stopPropagation)return e.stopPropagation();if(e.cancelBubble)e.cancelBubble=true;return false};this.showRail=function(){if(v.page.maxh!=0&&(v.ispage||v.win.css("display")!="none")){v.visibility=true;v.rail.visibility=true;v.rail.css("display","block")}return v};this.showRailHr=function(){if(!v.railh)return v;if(v.page.maxw!=0&&(v.ispage||v.win.css("display")!="none")){v.railh.visibility=true;v.railh.css("display","block")}return v};this.hideRail=function(){v.visibility=false;v.rail.visibility=false;v.rail.css("display","none");return v};this.hideRailHr=function(){if(!v.railh)return v;v.railh.visibility=false;v.railh.css("display","none");return v};this.show=function(){v.hidden=false;v.locked=false;return v.showRail().showRailHr()};this.hide=function(){v.hidden=true;v.locked=true;return v.hideRail().hideRailHr()};this.toggle=function(){return v.hidden?v.show():v.hide()};this.remove=function(){v.stop();if(v.cursortimeout)clearTimeout(v.cursortimeout);v.doZoomOut();v.unbindAll();if(b.isie9)v.win[0].detachEvent("onpropertychange",v.onAttributeChange);if(v.observer!==false)v.observer.disconnect();if(v.observerremover!==false)v.observerremover.disconnect();v.events=null;if(v.cursor){v.cursor.remove()}if(v.cursorh){v.cursorh.remove()}if(v.rail){v.rail.remove()}if(v.railh){v.railh.remove()}if(v.zoom){v.zoom.remove()}for(var e=0;e<v.saved.css.length;e++){var t=v.saved.css[e];t[0].css(t[1],typeof t[2]=="undefined"?"":t[2])}v.saved=false;v.me.data("__nicescroll","");var n=l.nicescroll;n.each(function(e){if(!this)return;if(this.id===v.id){delete n[e];for(var t=++e;t<n.length;t++,e++)n[e]=n[t];n.length--;if(n.length)delete n[n.length]}});for(var r in v){v[r]=null;delete v[r]}v=null};this.scrollstart=function(e){this.onscrollstart=e;return v};this.scrollend=function(e){this.onscrollend=e;return v};this.scrollcancel=function(e){this.onscrollcancel=e;return v};this.zoomin=function(e){this.onzoomin=e;return v};this.zoomout=function(e){this.onzoomout=e;return v};this.isScrollable=function(e){var t=e.target?e.target:e;if(t.nodeName=="OPTION")return true;while(t&&t.nodeType==1&&!/BODY|HTML/.test(t.nodeName)){var n=l(t);var r=n.css("overflowY")||n.css("overflowX")||n.css("overflow")||"";if(/scroll|auto/.test(r))return t.clientHeight!=t.scrollHeight;t=t.parentNode?t.parentNode:false}return false};this.getViewport=function(e){var t=e&&e.parentNode?e.parentNode:false;while(t&&t.nodeType==1&&!/BODY|HTML/.test(t.nodeName)){var n=l(t);var r=n.css("overflowY")||n.css("overflowX")||n.css("overflow")||"";if(/scroll|auto/.test(r)&&t.clientHeight!=t.scrollHeight)return n;if(n.getNiceScroll().length>0)return n;t=t.parentNode?t.parentNode:false}return false};this.onmousewheel=function(e){if(v.locked){v.debounced("checkunlock",v.resize,250);return true}if(v.rail.drag)return v.cancelEvent(e);if(v.opt.oneaxismousemode=="auto"&&e.deltaX!=0)v.opt.oneaxismousemode=false;if(v.opt.oneaxismousemode&&e.deltaX==0){if(!v.rail.scrollable){if(v.railh&&v.railh.scrollable){return v.onmousewheelhr(e)}else{return true}}}var t=+(new Date);var n=false;if(v.opt.preservenativescrolling&&v.checkarea+600<t){v.nativescrollingarea=v.isScrollable(e);n=true}v.checkarea=t;if(v.nativescrollingarea)return true;var r=h(e,false,n);if(r)v.checkarea=0;return r};this.onmousewheelhr=function(e){if(v.locked||!v.railh.scrollable)return true;if(v.rail.drag)return v.cancelEvent(e);var t=+(new Date);var n=false;if(v.opt.preservenativescrolling&&v.checkarea+600<t){v.nativescrollingarea=v.isScrollable(e);n=true}v.checkarea=t;if(v.nativescrollingarea)return true;if(v.locked)return v.cancelEvent(e);return h(e,true,n)};this.stop=function(){v.cancelScroll();if(v.scrollmon)v.scrollmon.stop();v.cursorfreezed=false;v.scroll.y=Math.round(v.getScrollTop()*(1/v.scrollratio.y));v.noticeCursor();return v};this.getTransitionSpeed=function(e){var t=Math.round(v.opt.scrollspeed*10);var n=Math.min(t,Math.round(e/20*v.opt.scrollspeed));return n>20?n:0};if(!v.opt.smoothscroll){this.doScrollLeft=function(e,t){var n=v.getScrollTop();v.doScrollPos(e,n,t)};this.doScrollTop=function(e,t){var n=v.getScrollLeft();v.doScrollPos(n,e,t)};this.doScrollPos=function(e,t,n){var r=e>v.page.maxw?v.page.maxw:e;if(r<0)r=0;var i=t>v.page.maxh?v.page.maxh:t;if(i<0)i=0;v.synched("scroll",function(){v.setScrollTop(i);v.setScrollLeft(r)})};this.cancelScroll=function(){}}else if(v.ishwscroll&&b.hastransition&&v.opt.usetransition){this.prepareTransition=function(e,t){var n=t?e>20?e:0:v.getTransitionSpeed(e);var r=n?b.prefixstyle+"transform "+n+"ms ease-out":"";if(!v.lasttransitionstyle||v.lasttransitionstyle!=r){v.lasttransitionstyle=r;v.doc.css(b.transitionstyle,r)}return n};this.doScrollLeft=function(e,t){var n=v.scrollrunning?v.newscrolly:v.getScrollTop();v.doScrollPos(e,n,t)};this.doScrollTop=function(e,t){var n=v.scrollrunning?v.newscrollx:v.getScrollLeft();v.doScrollPos(n,e,t)};this.doScrollPos=function(e,t,n){var r=v.getScrollTop();var i=v.getScrollLeft();if((v.newscrolly-r)*(t-r)<0||(v.newscrollx-i)*(e-i)<0)v.cancelScroll();if(v.opt.bouncescroll==false){if(t<0)t=0;else if(t>v.page.maxh)t=v.page.maxh;if(e<0)e=0;else if(e>v.page.maxw)e=v.page.maxw}if(v.scrollrunning&&e==v.newscrollx&&t==v.newscrolly)return false;v.newscrolly=t;v.newscrollx=e;v.newscrollspeed=n||false;if(v.timer)return false;v.timer=setTimeout(function(){var n=v.getScrollTop();var r=v.getScrollLeft();var i={};i.x=e-r;i.y=t-n;i.px=r;i.py=n;var s=Math.round(Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2)));var o=v.newscrollspeed&&v.newscrollspeed>1?v.newscrollspeed:v.getTransitionSpeed(s);if(v.newscrollspeed&&v.newscrollspeed<=1)o*=v.newscrollspeed;v.prepareTransition(o,true);if(v.timerscroll&&v.timerscroll.tm)clearInterval(v.timerscroll.tm);if(o>0){if(!v.scrollrunning&&v.onscrollstart){var u={type:"scrollstart",current:{x:r,y:n},request:{x:e,y:t},end:{x:v.newscrollx,y:v.newscrolly},speed:o};v.onscrollstart.call(v,u)}if(b.transitionend){if(!v.scrollendtrapped){v.scrollendtrapped=true;v.bind(v.doc,b.transitionend,v.onScrollEnd,false)}}else{if(v.scrollendtrapped)clearTimeout(v.scrollendtrapped);v.scrollendtrapped=setTimeout(v.onScrollEnd,o)}var a=n;var f=r;v.timerscroll={bz:new BezierClass(a,v.newscrolly,o,0,0,.58,1),bh:new BezierClass(f,v.newscrollx,o,0,0,.58,1)};if(!v.cursorfreezed)v.timerscroll.tm=setInterval(function(){v.showCursor(v.getScrollTop(),v.getScrollLeft())},60)}v.synched("doScroll-set",function(){v.timer=0;if(v.scrollendtrapped)v.scrollrunning=true;v.setScrollTop(v.newscrolly);v.setScrollLeft(v.newscrollx);if(!v.scrollendtrapped)v.onScrollEnd()})},50)};this.cancelScroll=function(){if(!v.scrollendtrapped)return true;var e=v.getScrollTop();var t=v.getScrollLeft();v.scrollrunning=false;if(!b.transitionend)clearTimeout(b.transitionend);v.scrollendtrapped=false;v._unbind(v.doc,b.transitionend,v.onScrollEnd);v.prepareTransition(0);v.setScrollTop(e);if(v.railh)v.setScrollLeft(t);if(v.timerscroll&&v.timerscroll.tm)clearInterval(v.timerscroll.tm);v.timerscroll=false;v.cursorfreezed=false;v.showCursor(e,t);return v};this.onScrollEnd=function(){if(v.scrollendtrapped)v._unbind(v.doc,b.transitionend,v.onScrollEnd);v.scrollendtrapped=false;v.prepareTransition(0);if(v.timerscroll&&v.timerscroll.tm)clearInterval(v.timerscroll.tm);v.timerscroll=false;var e=v.getScrollTop();var t=v.getScrollLeft();v.setScrollTop(e);if(v.railh)v.setScrollLeft(t);v.noticeCursor(false,e,t);v.cursorfreezed=false;if(e<0)e=0;else if(e>v.page.maxh)e=v.page.maxh;if(t<0)t=0;else if(t>v.page.maxw)t=v.page.maxw;if(e!=v.newscrolly||t!=v.newscrollx)return v.doScrollPos(t,e,v.opt.snapbackspeed);if(v.onscrollend&&v.scrollrunning){var n={type:"scrollend",current:{x:t,y:e},end:{x:v.newscrollx,y:v.newscrolly}};v.onscrollend.call(v,n)}v.scrollrunning=false}}else{this.doScrollLeft=function(e,t){var n=v.scrollrunning?v.newscrolly:v.getScrollTop();v.doScrollPos(e,n,t)};this.doScrollTop=function(e,t){var n=v.scrollrunning?v.newscrollx:v.getScrollLeft();v.doScrollPos(n,e,t)};this.doScrollPos=function(e,t,n){function r(){if(v.cancelAnimationFrame)return true;v.scrollrunning=true;l=1-l;if(l)return v.timer=p(r)||1;var e=0;var t=sy=v.getScrollTop();if(v.dst.ay){t=v.bzscroll?v.dst.py+v.bzscroll.getNow()*v.dst.ay:v.newscrolly;var n=t-sy;if(n<0&&t<v.newscrolly||n>0&&t>v.newscrolly)t=v.newscrolly;v.setScrollTop(t);if(t==v.newscrolly)e=1}else{e=1}var i=sx=v.getScrollLeft();if(v.dst.ax){i=v.bzscroll?v.dst.px+v.bzscroll.getNow()*v.dst.ax:v.newscrollx;var n=i-sx;if(n<0&&i<v.newscrollx||n>0&&i>v.newscrollx)i=v.newscrollx;v.setScrollLeft(i);if(i==v.newscrollx)e+=1}else{e+=1}if(e==2){v.timer=0;v.cursorfreezed=false;v.bzscroll=false;v.scrollrunning=false;if(t<0)t=0;else if(t>v.page.maxh)t=v.page.maxh;if(i<0)i=0;else if(i>v.page.maxw)i=v.page.maxw;if(i!=v.newscrollx||t!=v.newscrolly)v.doScrollPos(i,t);else{if(v.onscrollend){var s={type:"scrollend",current:{x:sx,y:sy},end:{x:v.newscrollx,y:v.newscrolly}};v.onscrollend.call(v,s)}}}else{v.timer=p(r)||1}}var t=typeof t=="undefined"||t===false?v.getScrollTop(true):t;if(v.timer&&v.newscrolly==t&&v.newscrollx==e)return true;if(v.timer)d(v.timer);v.timer=0;var i=v.getScrollTop();var s=v.getScrollLeft();if((v.newscrolly-i)*(t-i)<0||(v.newscrollx-s)*(e-s)<0)v.cancelScroll();v.newscrolly=t;v.newscrollx=e;if(!v.bouncescroll||!v.rail.visibility){if(v.newscrolly<0){v.newscrolly=0}else if(v.newscrolly>v.page.maxh){v.newscrolly=v.page.maxh}}if(!v.bouncescroll||!v.railh.visibility){if(v.newscrollx<0){v.newscrollx=0}else if(v.newscrollx>v.page.maxw){v.newscrollx=v.page.maxw}}v.dst={};v.dst.x=e-s;v.dst.y=t-i;v.dst.px=s;v.dst.py=i;var o=Math.round(Math.sqrt(Math.pow(v.dst.x,2)+Math.pow(v.dst.y,2)));v.dst.ax=v.dst.x/o;v.dst.ay=v.dst.y/o;var u=0;var a=o;if(v.dst.x==0){u=i;a=t;v.dst.ay=1;v.dst.py=0}else if(v.dst.y==0){u=s;a=e;v.dst.ax=1;v.dst.px=0}var f=v.getTransitionSpeed(o);if(n&&n<=1)f*=n;if(f>0){v.bzscroll=v.bzscroll?v.bzscroll.update(a,f):new BezierClass(u,a,f,0,1,0,1)}else{v.bzscroll=false}if(v.timer)return;if(i==v.page.maxh&&t>=v.page.maxh||s==v.page.maxw&&e>=v.page.maxw)v.checkContentSize();var l=1;v.cancelAnimationFrame=false;v.timer=1;if(v.onscrollstart&&!v.scrollrunning){var c={type:"scrollstart",current:{x:s,y:i},request:{x:e,y:t},end:{x:v.newscrollx,y:v.newscrolly},speed:f};v.onscrollstart.call(v,c)}r();if(i==v.page.maxh&&t>=i||s==v.page.maxw&&e>=s)v.checkContentSize();v.noticeCursor()};this.cancelScroll=function(){if(v.timer)d(v.timer);v.timer=0;v.bzscroll=false;v.scrollrunning=false;return v}}this.doScrollBy=function(e,t){var n=0;if(t){n=Math.floor((v.scroll.y-e)*v.scrollratio.y)}else{var r=v.timer?v.newscrolly:v.getScrollTop(true);n=r-e}if(v.bouncescroll){var i=Math.round(v.view.h/2);if(n<-i)n=-i;else if(n>v.page.maxh+i)n=v.page.maxh+i}v.cursorfreezed=false;py=v.getScrollTop(true);if(n<0&&py<=0)return v.noticeCursor();else if(n>v.page.maxh&&py>=v.page.maxh){v.checkContentSize();return v.noticeCursor()}v.doScrollTop(n)};this.doScrollLeftBy=function(e,t){var n=0;if(t){n=Math.floor((v.scroll.x-e)*v.scrollratio.x)}else{var r=v.timer?v.newscrollx:v.getScrollLeft(true);n=r-e}if(v.bouncescroll){var i=Math.round(v.view.w/2);if(n<-i)n=-i;else if(n>v.page.maxw+i)n=v.page.maxw+i}v.cursorfreezed=false;px=v.getScrollLeft(true);if(n<0&&px<=0)return v.noticeCursor();else if(n>v.page.maxw&&px>=v.page.maxw)return v.noticeCursor();v.doScrollLeft(n)};this.doScrollTo=function(e,t){var n=t?Math.round(e*v.scrollratio.y):e;if(n<0)n=0;else if(n>v.page.maxh)n=v.page.maxh;v.cursorfreezed=false;v.doScrollTop(e)};this.checkContentSize=function(){var e=v.getContentSize();if(e.h!=v.page.h||e.w!=v.page.w)v.resize(false,e)};v.onscroll=function(e){if(v.rail.drag)return;if(!v.cursorfreezed){v.synched("scroll",function(){v.scroll.y=Math.round(v.getScrollTop()*(1/v.scrollratio.y));if(v.railh)v.scroll.x=Math.round(v.getScrollLeft()*(1/v.scrollratio.x));v.noticeCursor()})}};v.bind(v.docscroll,"scroll",v.onscroll);this.doZoomIn=function(e){if(v.zoomactive)return;v.zoomactive=true;v.zoomrestore={style:{}};var t=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"];var n=v.win[0].style;for(var r in t){var i=t[r];v.zoomrestore.style[i]=typeof n[i]!="undefined"?n[i]:""}v.zoomrestore.style.width=v.win.css("width");v.zoomrestore.style.height=v.win.css("height");v.zoomrestore.padding={w:v.win.outerWidth()-v.win.width(),h:v.win.outerHeight()-v.win.height()};if(b.isios4){v.zoomrestore.scrollTop=l(window).scrollTop();l(window).scrollTop(0)}v.win.css({position:b.isios4?"absolute":"fixed",top:0,left:0,"z-index":f+100,margin:"0px"});var s=v.win.css("backgroundColor");if(s==""||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(s))v.win.css("backgroundColor","#fff");v.rail.css({"z-index":f+101});v.zoom.css({"z-index":f+102});v.zoom.css("backgroundPosition","0px -18px");v.resizeZoom();if(v.onzoomin)v.onzoomin.call(v);return v.cancelEvent(e)};this.doZoomOut=function(e){if(!v.zoomactive)return;v.zoomactive=false;v.win.css("margin","");v.win.css(v.zoomrestore.style);if(b.isios4){l(window).scrollTop(v.zoomrestore.scrollTop)}v.rail.css({"z-index":v.zindex});v.zoom.css({"z-index":v.zindex});v.zoomrestore=false;v.zoom.css("backgroundPosition","0px 0px");v.onResize();if(v.onzoomout)v.onzoomout.call(v);return v.cancelEvent(e)};this.doZoom=function(e){return v.zoomactive?v.doZoomOut(e):v.doZoomIn(e)};this.resizeZoom=function(){if(!v.zoomactive)return;var e=v.getScrollTop();v.win.css({width:l(window).width()-v.zoomrestore.padding.w+"px",height:l(window).height()-v.zoomrestore.padding.h+"px"});v.onResize();v.setScrollTop(Math.min(v.page.maxh,e))};this.init();l.nicescroll.push(this)};var S=function(e){var t=this;this.nc=e;this.lastx=0;this.lasty=0;this.speedx=0;this.speedy=0;this.lasttime=0;this.steptime=0;this.snapx=false;this.snapy=false;this.demulx=0;this.demuly=0;this.lastscrollx=-1;this.lastscrolly=-1;this.chkx=0;this.chky=0;this.timer=0;this.time=function(){return+(new Date)};this.reset=function(e,n){t.stop();var r=t.time();t.steptime=0;t.lasttime=r;t.speedx=0;t.speedy=0;t.lastx=e;t.lasty=n;t.lastscrollx=-1;t.lastscrolly=-1};this.update=function(e,n){var r=t.time();t.steptime=r-t.lasttime;t.lasttime=r;var i=n-t.lasty;var s=e-t.lastx;var o=t.nc.getScrollTop();var u=t.nc.getScrollLeft();var a=o+i;var f=u+s;t.snapx=f<0||f>t.nc.page.maxw;t.snapy=a<0||a>t.nc.page.maxh;t.speedx=s;t.speedy=i;t.lastx=e;t.lasty=n};this.stop=function(){t.nc.unsynched("domomentum2d");if(t.timer)clearTimeout(t.timer);t.timer=0;t.lastscrollx=-1;t.lastscrolly=-1};this.doSnapy=function(e,n){var r=false;if(n<0){n=0;r=true}else if(n>t.nc.page.maxh){n=t.nc.page.maxh;r=true}if(e<0){e=0;r=true}else if(e>t.nc.page.maxw){e=t.nc.page.maxw;r=true}if(r)t.nc.doScrollPos(e,n,t.nc.opt.snapbackspeed)};this.doMomentum=function(e){var n=t.time();var r=e?n+e:t.lasttime;var i=t.nc.getScrollLeft();var s=t.nc.getScrollTop();var o=t.nc.page.maxh;var u=t.nc.page.maxw;t.speedx=u>0?Math.min(60,t.speedx):0;t.speedy=o>0?Math.min(60,t.speedy):0;var a=r&&n-r<=60;if(s<0||s>o||i<0||i>u)a=false;var f=t.speedy&&a?t.speedy:false;var l=t.speedx&&a?t.speedx:false;if(f||l){var c=Math.max(16,t.steptime);if(c>50){var h=c/50;t.speedx*=h;t.speedy*=h;c=50}t.demulxy=0;t.lastscrollx=t.nc.getScrollLeft();t.chkx=t.lastscrollx;t.lastscrolly=t.nc.getScrollTop();t.chky=t.lastscrolly;var p=t.lastscrollx;var d=t.lastscrolly;var v=function(){var e=t.time()-n>600?.04:.02;if(t.speedx){p=Math.floor(t.lastscrollx-t.speedx*(1-t.demulxy));t.lastscrollx=p;if(p<0||p>u)e=.1}if(t.speedy){d=Math.floor(t.lastscrolly-t.speedy*(1-t.demulxy));t.lastscrolly=d;if(d<0||d>o)e=.1}t.demulxy=Math.min(1,t.demulxy+e);t.nc.synched("domomentum2d",function(){if(t.speedx){var e=t.nc.getScrollLeft();if(e!=t.chkx)t.stop();t.chkx=p;t.nc.setScrollLeft(p)}if(t.speedy){var n=t.nc.getScrollTop();if(n!=t.chky)t.stop();t.chky=d;t.nc.setScrollTop(d)}if(!t.timer){t.nc.hideCursor();t.doSnapy(p,d)}});if(t.demulxy<1){t.timer=setTimeout(v,c)}else{t.stop();t.nc.hideCursor();t.doSnapy(p,d)}};v()}else{t.doSnapy(t.nc.getScrollLeft(),t.nc.getScrollTop())}}};var x=e.fn.scrollTop;e.cssHooks["pageYOffset"]={get:function(e,t,n){var r=l.data(e,"__nicescroll")||false;return r&&r.ishwscroll?r.getScrollTop():x.call(e)},set:function(e,t){var n=l.data(e,"__nicescroll")||false;n&&n.ishwscroll?n.setScrollTop(parseInt(t)):x.call(e,t);return this}};e.fn.scrollTop=function(e){if(typeof e=="undefined"){var t=this[0]?l.data(this[0],"__nicescroll")||false:false;return t&&t.ishwscroll?t.getScrollTop():x.call(this)}else{return this.each(function(){var t=l.data(this,"__nicescroll")||false;t&&t.ishwscroll?t.setScrollTop(parseInt(e)):x.call(l(this),e)})}};var T=e.fn.scrollLeft;l.cssHooks.pageXOffset={get:function(e,t,n){var r=l.data(e,"__nicescroll")||false;return r&&r.ishwscroll?r.getScrollLeft():T.call(e)},set:function(e,t){var n=l.data(e,"__nicescroll")||false;n&&n.ishwscroll?n.setScrollLeft(parseInt(t)):T.call(e,t);return this}};e.fn.scrollLeft=function(e){if(typeof e=="undefined"){var t=this[0]?l.data(this[0],"__nicescroll")||false:false;return t&&t.ishwscroll?t.getScrollLeft():T.call(this)}else{return this.each(function(){var t=l.data(this,"__nicescroll")||false;t&&t.ishwscroll?t.setScrollLeft(parseInt(e)):T.call(l(this),e)})}};var N=function(e){var t=this;this.length=0;this.name="nicescrollarray";this.each=function(e){for(var n=0,r=0;n<t.length;n++)e.call(t[n],r++);return t};this.push=function(e){t[t.length]=e;t.length++};this.eq=function(e){return t[e]};if(e){for(a=0;a<e.length;a++){var n=l.data(e[a],"__nicescroll")||false;if(n){this[this.length]=n;this.length++}}}return this};n(N.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],function(e,t){e[t]=function(){var e=arguments;return this.each(function(){this[t].apply(this,e)})}});e.fn.getNiceScroll=function(e){if(typeof e=="undefined"){return new N(this)}else{var t=this[e]&&l.data(this[e],"__nicescroll")||false;return t}};e.extend(e.expr[":"],{nicescroll:function(e){return l.data(e,"__nicescroll")?true:false}});l.fn.niceScroll=function(e,t){if(typeof t=="undefined"){if(typeof e=="object"&&!("jquery"in e)){t=e;e=false}}var n=new N;if(typeof t=="undefined")t={};if(e||false){t.doc=l(e);t.win=l(this)}var r=!("doc"in t);if(!r&&!("win"in t))t.win=l(this);this.each(function(){var e=l(this).data("__nicescroll")||false;if(!e){t.doc=r?l(this):t.doc;e=new E(t,l(this));l(this).data("__nicescroll",e)}n.push(e)});return n.length==1?n[0]:n};window.NiceScroll={getjQuery:function(){return e}};if(!l.nicescroll){l.nicescroll=new N;l.nicescroll.options=y}})(jQuery)

//]]>
